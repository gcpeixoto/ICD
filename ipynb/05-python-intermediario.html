
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Python intermediário - I &#8212; Introdução à Ciência de Dados</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python intermediário - II" href="06-python-intermediario-2.html" />
    <link rel="prev" title="Controle de versão" href="04-cvs-git.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introdução à Ciência de Dados</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="00-conteudo.html">
   Apresentação do curso
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 1
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01-introducao.html">
   Introdução à Ciência de Dados
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02a-pip-venv.html">
   Pacotes e ambientes virtuais com
   <em>
    pip
   </em>
   e
   <em>
    venv
   </em>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02b-conda.html">
   <em>
    Crash course
   </em>
   de
   <em>
    conda
   </em>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03-ides.html">
   Ambientes de desenvolvimento e computação interativa
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04-cvs-git.html">
   Controle de versão
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 2
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Python intermediário - I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06-python-intermediario-2.html">
   Python intermediário - II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07-python-intermediario-3.html">
   Python intermediário - III
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08a-computacao-vetorizada.html">
   Computação vetorizada
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08b-alc.html">
   Álgebra Linear Computacional básica
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09-plotagem-matplotlib.html">
   Plotagem e formatação de gráficos
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Questionários
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Q21.html">
   Questionário 21 (Q21)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q22.html">
   Questionário 22 (Q22)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q23.html">
   Questionário Q23
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/ipynb/05-python-intermediario.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/gcpeixoto/ICD/master?urlpath=lab/tree/ipynb/05-python-intermediario.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/gcpeixoto/ICD/blob/master/ipynb/05-python-intermediario.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visao-geral-sobre-sequencias">
   Visão geral sobre sequencias
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tuplas">
   Tuplas
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metodos-de-tupla">
     Métodos de tupla
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#swap-de-variaveis">
     <em>
      Swap
     </em>
     de variáveis
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tuplas-como-registros">
     Tuplas como registros
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dicionarios">
   Dicionários
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#acesso-a-conteudo">
     Acesso a conteúdo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#insercao-de-conteudo">
     Inserção de conteúdo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alteracao-de-conteudo">
     Alteração de conteúdo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#delecao-de-conteudo-com-del-e-pop">
     Deleção de conteúdo com
     <code class="docutils literal notranslate">
      <span class="pre">
       del
      </span>
     </code>
     e
     <code class="docutils literal notranslate">
      <span class="pre">
       pop
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#listagem-de-chaves-e-valores">
     Listagem de chaves e valores
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#combinando-dicionarios">
     Combinando dicionários
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dicionarios-a-partir-de-sequencias">
     Dicionários a partir de sequencias
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conjuntos">
   Conjuntos
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operacoes-com-conjuntos">
     Operações com conjuntos
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#uniao-de-conjuntos">
       União de conjuntos
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atualizacao-de-conjuntos-uniao">
       Atualização de conjuntos (união)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#intersecao-de-conjuntos">
       Interseção de conjuntos
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atualizacao-de-conjuntos-intersecao">
       Atualização de conjuntos (interseção)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#diferenca-entre-conjuntos">
       Diferença entre conjuntos
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#atualizacao-de-conjuntos-diferenca">
       Atualização de conjuntos (diferença)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#adicao-ou-remocao-de-elementos">
       Adição ou remoção de elementos
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reinicializacao-de-um-conjunto-vazio">
       Reinicialização de um conjunto (vazio)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#continencia">
       Continência
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#subconjuntos-e-subconjuntos-proprios">
       Subconjuntos e subconjuntos próprios
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#disjuncao">
       Disjunção
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#igualdade-entre-conjuntos">
       Igualdade entre conjuntos
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compreensoes-de-lista">
   Compreensões de lista
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compreensoes-de-conjuntos">
   Compreensões de conjuntos
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compreensoes-de-dicionarios">
   Compreensões de dicionários
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sorted">
   <em>
    Sorted
   </em>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aleatoriedade">
   Aleatoriedade
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#expressoes-regulares">
   Expressões regulares
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#para-que-usamos-regex">
     Para que usamos
     <em>
      regex
     </em>
     ?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#padroes-simples-caracterese-ordinarios-e-metacaracteres">
     Padrões simples, caracterese ordinários e metacaracteres
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#o-modulo-re">
     O módulo
     <code class="docutils literal notranslate">
      <span class="pre">
       re
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sintaxes-especiais">
     Sintaxes especiais
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#metacaracter">
       Metacaracter
       <code class="docutils literal notranslate">
        <span class="pre">
         .
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Metacaracter
       <code class="docutils literal notranslate">
        <span class="pre">
         \
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Metacaracter
       <code class="docutils literal notranslate">
        <span class="pre">
         ^
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id3">
       Metacaracter
       <code class="docutils literal notranslate">
        <span class="pre">
         $
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id4">
       Metacaracter
       <code class="docutils literal notranslate">
        <span class="pre">
         *
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id5">
       Metacaracter
       <code class="docutils literal notranslate">
        <span class="pre">
         +
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id6">
       Metacaracter
       <code class="docutils literal notranslate">
        <span class="pre">
         ?
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#metacaracteres">
       Metacaracteres
       <code class="docutils literal notranslate">
        <span class="pre">
         []
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id7">
       Metacaracteres
       <code class="docutils literal notranslate">
        <span class="pre">
         {}
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id8">
       Metacaracter
       <code class="docutils literal notranslate">
        <span class="pre">
         |
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id9">
       Metacaracteres
       <code class="docutils literal notranslate">
        <span class="pre">
         ()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#identificadores-e-tokens-gerais">
       Identificadores e
       <em>
        tokens
       </em>
       gerais
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#compilacao-e-literais">
       Compilação e literais
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#recursos-de-aprendizagem">
       Recursos de aprendizagem
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section id="python-intermediario-i">
<h1>Python intermediário - I<a class="headerlink" href="#python-intermediario-i" title="Permalink to this headline">¶</a></h1>
<section id="visao-geral-sobre-sequencias">
<h2>Visão geral sobre sequencias<a class="headerlink" href="#visao-geral-sobre-sequencias" title="Permalink to this headline">¶</a></h2>
<p>A linguagem Python oferece diversas estruturas de dados caracterizadas como sequencias. As sequencias são implementadas com eficiência nos moldes da linguagem C.</p>
<p>Sequencias podem ser classificadas como:</p>
<ul class="simple">
<li><p><em>Sequências contêinerizadas</em> (<em>container sequences</em>): guardam referências aos objetos que elas contêm, que podem ser de qualquer tipo. Exemplos são: <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple</span></code> e <code class="docutils literal notranslate"><span class="pre">collections.deque</span></code>.</p></li>
<li><p><em>Sequências rasas</em> (<em>flat sequences</em>): armazenam fisicamente o valor de cada item dentro de seu próprio espaço na memória, e não como objetos distintos. Exemplos são: <code class="docutils literal notranslate"><span class="pre">str</span></code>,<code class="docutils literal notranslate"><span class="pre">bytes</span></code> e <code class="docutils literal notranslate"><span class="pre">array.array</span></code>.</p></li>
</ul>
<p>Sequências rasas são mais compactas do que as contêinerizadas, mas são limitadas para armazenar valores primitivos como caracteres, bytes e números.</p>
<p>Outra forma de agrupar tipos de sequências é por mutabilidade:</p>
<ul class="simple">
<li><p><em>Sequências mutáveis</em>: podem ter seus elementos alterados. Exemplos: <code class="docutils literal notranslate"><span class="pre">list</span></code>,<code class="docutils literal notranslate"><span class="pre">bytearray</span></code>,<code class="docutils literal notranslate"><span class="pre">memoryview</span></code>.</p></li>
<li><p><em>Sequências imutáveis</em>: seus elementos são inalteráveis. Exemplos: <code class="docutils literal notranslate"><span class="pre">tuple</span></code>,<code class="docutils literal notranslate"><span class="pre">str</span></code>,<code class="docutils literal notranslate"><span class="pre">bytes</span></code>.</p></li>
</ul>
</section>
<section id="tuplas">
<h2>Tuplas<a class="headerlink" href="#tuplas" title="Permalink to this headline">¶</a></h2>
<p>Tuplas são sequências imutáveis de comprimento fixo.</p>
<p><strong>Exemplo:</strong> Crie uma tupla com 4 elementos e desempacote-a em 4 variáveis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tup1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mf">12.23</span><span class="p">,</span><span class="s1">&#39;$&#39;</span>
<span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span> <span class="o">=</span> <span class="n">tup1</span>

<span class="n">tup2</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mf">12.23</span><span class="p">,</span><span class="s1">&#39;$&#39;</span><span class="p">)</span>
<span class="n">e</span><span class="p">,</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">tup2</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tup1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tup2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-1, &#39;a&#39;, 12.23, &#39;$&#39;)
(-1, &#39;a&#39;, 12.23, &#39;$&#39;)
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tup1</span></code> é uma tupla criada pelo sequenciamento de elementos, sem parênteses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tup2</span></code> é uma tupla idêntica criada pelo sequenciamento de elementos, com parênteses.</p></li>
<li><p>Em <code class="docutils literal notranslate"><span class="pre">a</span></code>,<code class="docutils literal notranslate"><span class="pre">b</span></code>,<code class="docutils literal notranslate"><span class="pre">c</span></code>,<code class="docutils literal notranslate"><span class="pre">d</span></code> há um processo de desempacotamento (<em>unpacking</em>).</p></li>
<li><p>Em <code class="docutils literal notranslate"><span class="pre">e</span></code>,<code class="docutils literal notranslate"><span class="pre">f</span></code>,<code class="docutils literal notranslate"><span class="pre">g</span></code>,<code class="docutils literal notranslate"><span class="pre">h</span></code> temos um desempacotamento equivalente.</p></li>
<li><p>Ambas as tuplas são equivalentes.</p></li>
</ul>
<p><strong>Exemplo:</strong> Crie uma tupla a partir de objetos existentes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">tuple</span><span class="p">(</span><span class="n">tup1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(-1, &#39;a&#39;, 12.23, &#39;$&#39;)
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>Este processo é também conhecido como <em>type casting</em>.</p></li>
</ul>
<p><strong>Exemplo:</strong> Construa tuplas aninhadas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nums</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">)</span>
<span class="n">nums</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>((0, 2, 4, 6, 8), (1, 3, 5, 7, 9))
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Altere elementos de uma tupla <em>in-place</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="kc">False</span><span class="p">])</span>

<span class="c1"># imutabilidade!</span>
<span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="n">cca77f8062f1</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> 
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># imutabilidade!</span>
<span class="ne">----&gt; </span><span class="mi">4</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="ne">TypeError</span>: &#39;tuple&#39; object does not support item assignment
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># alteração in-place</span>
<span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">t</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;a&#39;, [1, 2, 3, 4], False)
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>A operação <code class="docutils literal notranslate"><span class="pre">t[2]</span> <span class="pre">=</span> <span class="pre">True</span></code> retorna um erro porque a tupla não pode ser alterada.</p></li>
<li><p>Por outro lado, a lista armazenada na segunda posição pode ser modificada <em>in-place</em>.</p></li>
</ul>
<p><strong>Exemplo:</strong> Crie tuplas por concatenação.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;a&#39;, 1, &#39;b&#39;, 2, &#39;c&#39;, 3)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;)
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Imprima tabela de valores usando desempacotamento e iteração.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">)]</span>
<span class="n">s</span>

<span class="k">for</span> <span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a=</span><span class="si">{0}</span><span class="s1">, b=</span><span class="si">{1}</span><span class="s1">, c=</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">p</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a=1, b=2, c=3
a=4, b=5, c=6
a=7, b=8, c=9
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Desempacote elementos em iteráveis de comprimento arbitrário.</p>
<p>O desempacotamento de uma tupla (ou sequência) em objetos iteráveis que tenham comprimento arbitrário pode ser feito por meio de uma <em>expressão estrela</em> (<em>star expression</em>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># desempacota por star expression e ignora primeiro item</span>
<span class="n">_</span><span class="p">,</span><span class="o">*</span><span class="n">restante</span> <span class="o">=</span> <span class="n">tup1</span>
<span class="n">restante</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;a&#39;, 12.23, &#39;$&#39;]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>Usamos 2 variáveis para desempacotar uma tupla de 4 elementos.</p></li>
<li><p>A variável <code class="docutils literal notranslate"><span class="pre">p</span></code> é uma lista contendo os últimos elementos de <code class="docutils literal notranslate"><span class="pre">tup1</span></code>.</p></li>
<li><p>A variável <code class="docutils literal notranslate"><span class="pre">_</span></code> possui valor, mas é ignorada.</p></li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Use um <em>underscore</em> (<code class="docutils literal notranslate"><span class="pre">_</span></code>) para representar uma variável que, devido ao desempacotamento, você considere “indesejada”.</p>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>Outros casos em que <em>star expressions</em> são úteis envolvem dados que possuem mais de um valor atribuível a um mesmo registro (p.ex.: 1 pessoa com 2 números de telefone), ou quando se quer quebrar iteráveis em comprimentos arbitrários.</p></li>
<li><p><em>Star expressions</em> produzem listas.</p></li>
</ul>
<p>Por exemplo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_</span><span class="p">,</span><span class="o">*</span><span class="n">m4</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">m4</span> <span class="c1"># múltiplos de 4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4, 8, 12, 16]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="o">*</span><span class="n">m5</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">m5</span> <span class="c1"># múltiplos de 5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[5, 10]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">m6</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">m6</span> <span class="c1"># múltiplos de 6</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[6, 12]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2 star expressions não são permitidas</span>
<span class="o">*</span><span class="n">m6</span><span class="p">,</span><span class="o">*</span><span class="n">m5</span> <span class="o">=</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">  File</span><span class="nn"> &quot;&lt;ipython-input-13-5c1c52953256&gt;&quot;</span><span class="gt">, line </span><span class="mi">2</span>
    <span class="o">*</span><span class="n">m6</span><span class="p">,</span><span class="o">*</span><span class="n">m5</span> <span class="o">=</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
    <span class="o">^</span>
<span class="ne">SyntaxError</span>: two starred expressions in assignment
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ao usar uma <em>star expression</em>, certifique-se que o número de variáveis usadas no desempacotamento é consistente com os seus objetivos.</p>
</div>
<section id="metodos-de-tupla">
<h3>Métodos de tupla<a class="headerlink" href="#metodos-de-tupla" title="Permalink to this headline">¶</a></h3>
<p>Métodos são funções atribuídas a alguns objetos. Embora tuplas sejam imutáveis, elas possuem métodos bastante úteis. Aqui, consideraremos dois:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">count</span></code>: conta quantas vezes um dado valor aparece na tupla.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: localiza o índice de um valor dado.</p></li>
</ul>
<p><strong>Exemplo:</strong> Contando valores em tupla.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tupla</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tupla</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tupla</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tupla</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
8
4
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Localizando posição.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tupla</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>Caso haja valores repetidos na tupla, o método <code class="docutils literal notranslate"><span class="pre">index</span></code> retornará o índice da relativo à primeira aparição. Como o número 3 aparece 8 vezes na tupla e seu primeiro registro ocorre na segunda posição, o valor de retorno de <code class="docutils literal notranslate"><span class="pre">index</span></code> é 1.</p></li>
</ul>
</section>
<section id="swap-de-variaveis">
<h3><em>Swap</em> de variáveis<a class="headerlink" href="#swap-de-variaveis" title="Permalink to this headline">¶</a></h3>
<p>O modo Pythônico de realizar uma troca de variáveis (<em>swap</em>) é o seguinte:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span>
<span class="n">y</span><span class="p">,</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2, 1)
</pre></div>
</div>
</div>
</div>
</section>
<section id="tuplas-como-registros">
<h3>Tuplas como registros<a class="headerlink" href="#tuplas-como-registros" title="Permalink to this headline">¶</a></h3>
<p>Tuplas servem para armazenar registros: cada item na tupla é o dado de um campo e a posição do item dá o significado.</p>
<p><strong>Exemplo:</strong> Tuplas como registros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># latitute e longitude da Torre Eiffel</span>
<span class="n">eiffel_ll</span> <span class="o">=</span> <span class="p">(</span><span class="mf">48.85844772530444</span><span class="p">,</span> <span class="mf">2.2948031631859886</span><span class="p">)</span>

<span class="c1"># capitais do mundo</span>
<span class="n">caps</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Afeganistão&#39;</span><span class="p">,</span><span class="s1">&#39;Cabul&#39;</span><span class="p">,</span><span class="s1">&#39;Ásia&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;Barbados&#39;</span><span class="p">,</span><span class="s1">&#39;Bridgetown&#39;</span><span class="p">,</span><span class="s1">&#39;América&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;Chade&#39;</span><span class="p">,</span><span class="s1">&#39;Jamena&#39;</span><span class="p">,</span><span class="s1">&#39;África&#39;</span><span class="p">)]</span>

<span class="c1"># população indígena no Brasil por decênio</span>
<span class="n">popind</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1991</span><span class="p">,</span><span class="mi">294131</span><span class="p">),(</span><span class="mi">2000</span><span class="p">,</span><span class="mi">734127</span><span class="p">),(</span><span class="mi">2010</span><span class="p">,</span><span class="mi">817963</span><span class="p">)]</span>

<span class="k">for</span> <span class="n">a</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="n">popind</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Em </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1">, o Brasil possuía </span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1"> habitantes indígenas.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Em 1991, o Brasil possuía 294131 habitantes indígenas.
Em 2000, o Brasil possuía 734127 habitantes indígenas.
Em 2010, o Brasil possuía 817963 habitantes indígenas.
</pre></div>
</div>
</div>
</div>
<p>Comentários:</p>
<ul class="simple">
<li><p>Imprimimos os valores dos registros por desempacotamento.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:14}</span><span class="s1"> | </span><span class="si">{:14}</span><span class="s1"> | </span><span class="si">{:14}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;PAÍS&#39;</span><span class="p">,</span><span class="s1">&#39;CAPITAL&#39;</span><span class="p">,</span><span class="s1">&#39;CONTINENTE&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="p">(</span><span class="mi">14</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">2</span><span class="p">))</span>
<span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:14}</span><span class="s1"> | </span><span class="si">{:14}</span><span class="s1"> | </span><span class="si">{:14}</span><span class="s1">&#39;</span>
<span class="k">for</span> <span class="n">pais</span><span class="p">,</span> <span class="n">cap</span><span class="p">,</span> <span class="n">cont</span> <span class="ow">in</span> <span class="n">caps</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pais</span><span class="p">,</span><span class="n">cap</span><span class="p">,</span><span class="n">cont</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PAÍS           | CAPITAL        | CONTINENTE    
--------------------------------------------
Afeganistão    | Cabul          | Ásia          
Barbados       | Bridgetown     | América       
Chade          | Jamena         | África        
</pre></div>
</div>
</div>
</div>
<p>Comentários:</p>
<ul class="simple">
<li><p>Neste exemplo, simulamos uma tabela usando um formato-base e criamos uma linha de cabeçalho por concatenação de string.</p></li>
</ul>
</section>
</section>
<section id="dicionarios">
<h2>Dicionários<a class="headerlink" href="#dicionarios" title="Permalink to this headline">¶</a></h2>
<p>Um dicionário (<em>dict</em>) é uma estrutura conhecida como <em>tabela hash</em> ou <em>array associativo</em>. É uma coleção de tamanho flexível composta de pares do tipo <em>chave:valor</em>. Criamos um <code class="docutils literal notranslate"><span class="pre">dict</span></code> por diversas formas. A mais simples é usar chaves e pares explícitos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># dict vazio</span>
<span class="n">d</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{}
</pre></div>
</div>
</div>
</div>
<p>Os pares chave-valor incorporam quaisquer tipos de dados.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;par&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="s1">&#39;ímpar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span> <span class="s1">&#39;nome&#39;</span><span class="p">:</span><span class="s1">&#39;Meu dict&#39;</span><span class="p">,</span> <span class="s1">&#39;teste&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="n">d</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;par&#39;: [0, 2, 4, 6, 8],
 &#39;ímpar&#39;: [1, 3, 5, 7, 9],
 &#39;nome&#39;: &#39;Meu dict&#39;,
 &#39;teste&#39;: True}
</pre></div>
</div>
</div>
</div>
<section id="acesso-a-conteudo">
<h3>Acesso a conteúdo<a class="headerlink" href="#acesso-a-conteudo" title="Permalink to this headline">¶</a></h3>
<p>Para acessar o conteúdo de uma chave, indexamos pelo seu nome.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;par&#39;</span><span class="p">]</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0, 2, 4, 6, 8]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;nome&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Meu dict&#39;
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> construindo soma e multiplicação especial.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># dict</span>
<span class="n">op</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;X&#39;</span> <span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;delta&#39;</span> <span class="p">:</span> <span class="mf">0.1</span><span class="p">}</span>

<span class="c1"># função</span>
<span class="k">def</span> <span class="nf">sp</span><span class="p">(</span><span class="n">op</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">op</span><span class="p">[</span><span class="s1">&#39;delta&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">op</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]]</span>
    <span class="n">p</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="n">op</span><span class="p">[</span><span class="s1">&#39;delta&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">op</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]]</span>
    
    <span class="k">return</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1"># retorna tupla</span>

<span class="n">soma</span><span class="p">,</span> <span class="n">prod</span> <span class="o">=</span> <span class="n">sp</span><span class="p">(</span><span class="n">op</span><span class="p">)</span> <span class="c1"># desempacota</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soma</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;pos(</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">) | Soma = </span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1"> | Prod = </span><span class="si">{</span><span class="n">prod</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pos(0) | Soma = 1.1 | Prod = 0.1
pos(1) | Soma = 2.1 | Prod = 0.2
pos(2) | Soma = 3.1 | Prod = 0.30000000000000004
</pre></div>
</div>
</div>
</div>
</section>
<section id="insercao-de-conteudo">
<h3>Inserção de conteúdo<a class="headerlink" href="#insercao-de-conteudo" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># apensa variáveis</span>
<span class="n">op</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span> 
<span class="n">op</span><span class="p">[</span><span class="s1">&#39;novo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> 
<span class="n">op</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;X&#39;: [1, 2, 3], &#39;delta&#39;: 0.1, 1: 3, &#39;novo&#39;: (3, 4, 1)}
</pre></div>
</div>
</div>
</div>
</section>
<section id="alteracao-de-conteudo">
<h3>Alteração de conteúdo<a class="headerlink" href="#alteracao-de-conteudo" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">op</span><span class="p">[</span><span class="s1">&#39;novo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="c1"># sobrescreve</span>
<span class="n">op</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;X&#39;: [1, 2, 3], &#39;delta&#39;: 0.1, 1: 3, &#39;novo&#39;: [2, 1, 4]}
</pre></div>
</div>
</div>
</div>
</section>
<section id="delecao-de-conteudo-com-del-e-pop">
<h3>Deleção de conteúdo com <code class="docutils literal notranslate"><span class="pre">del</span></code> e <code class="docutils literal notranslate"><span class="pre">pop</span></code><a class="headerlink" href="#delecao-de-conteudo-com-del-e-pop" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">op</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># deleta chave </span>
<span class="n">op</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;X&#39;: [1, 2, 3], &#39;delta&#39;: 0.1, &#39;novo&#39;: [2, 1, 4]}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">novo</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;novo&#39;</span><span class="p">)</span> <span class="c1"># retorna e simultaneamente deleta</span>
<span class="n">novo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2, 1, 4]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">op</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;X&#39;: [1, 2, 3], &#39;delta&#39;: 0.1}
</pre></div>
</div>
</div>
</div>
</section>
<section id="listagem-de-chaves-e-valores">
<h3>Listagem de chaves e valores<a class="headerlink" href="#listagem-de-chaves-e-valores" title="Permalink to this headline">¶</a></h3>
<p>Usamos os métodos <code class="docutils literal notranslate"><span class="pre">keys()</span></code> e <code class="docutils literal notranslate"><span class="pre">values()</span></code> para listar chaves e valores.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">arit</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;soma&#39;</span><span class="p">:</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;subtr&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;mult&#39;</span><span class="p">:</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">:</span> <span class="s1">&#39;/&#39;</span><span class="p">}</span> <span class="c1"># dict</span>

<span class="n">k</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">arit</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="n">val</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">arit</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arit</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;A operação </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">k</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="si">}</span><span class="se">\&#39;</span><span class="s1"> de &quot;arit&quot; usa o símbolo </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">val</span><span class="p">[</span><span class="n">v</span><span class="p">]</span><span class="si">}</span><span class="se">\&#39;</span><span class="s1">.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;soma&#39;, &#39;subtr&#39;, &#39;mult&#39;, &#39;div&#39;]
[&#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;]
A operação &#39;soma&#39; de &quot;arit&quot; usa o símbolo &#39;+&#39;.
A operação &#39;subtr&#39; de &quot;arit&quot; usa o símbolo &#39;-&#39;.
A operação &#39;mult&#39; de &quot;arit&quot; usa o símbolo &#39;*&#39;.
A operação &#39;div&#39; de &quot;arit&quot; usa o símbolo &#39;/&#39;.
</pre></div>
</div>
</div>
</div>
</section>
<section id="combinando-dicionarios">
<h3>Combinando dicionários<a class="headerlink" href="#combinando-dicionarios" title="Permalink to this headline">¶</a></h3>
<p>Usamos <code class="docutils literal notranslate"><span class="pre">update</span></code> para combinar dicionários. Este método possui um resultado similar a <code class="docutils literal notranslate"><span class="pre">extend</span></code>, usado em listas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pot</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;pot&#39;</span><span class="p">:</span> <span class="s1">&#39;**&#39;</span><span class="p">}</span>
<span class="n">arit</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">pot</span><span class="p">)</span>
<span class="n">arit</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;soma&#39;: &#39;+&#39;, &#39;subtr&#39;: &#39;-&#39;, &#39;mult&#39;: &#39;*&#39;, &#39;div&#39;: &#39;/&#39;, &#39;pot&#39;: &#39;**&#39;}
</pre></div>
</div>
</div>
</div>
</section>
<section id="dicionarios-a-partir-de-sequencias">
<h3>Dicionários a partir de sequencias<a class="headerlink" href="#dicionarios-a-partir-de-sequencias" title="Permalink to this headline">¶</a></h3>
<p>Podemos criar dicionários a partir de sequencias existentes usando <code class="docutils literal notranslate"><span class="pre">zip</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">arit</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;soma&#39;</span><span class="p">,</span> <span class="s1">&#39;subtr&#39;</span><span class="p">,</span> <span class="s1">&#39;mult&#39;</span><span class="p">,</span> <span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="s1">&#39;pot&#39;</span><span class="p">}</span> 
<span class="n">ops</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;**&#39;</span><span class="p">}</span>

<span class="n">dict_novo</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">chave</span><span class="p">,</span><span class="n">valor</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">arit</span><span class="p">,</span><span class="n">ops</span><span class="p">):</span>
    <span class="n">dict_novo</span><span class="p">[</span><span class="n">chave</span><span class="p">]</span> <span class="o">=</span> <span class="n">valor</span>
    
<span class="n">dict_novo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;div&#39;: &#39;**&#39;, &#39;mult&#39;: &#39;+&#39;, &#39;subtr&#39;: &#39;-&#39;, &#39;pot&#39;: &#39;/&#39;, &#39;soma&#39;: &#39;*&#39;}
</pre></div>
</div>
</div>
</div>
<p>Visto que um <code class="docutils literal notranslate"><span class="pre">dict</span></code> é composto de várias tuplas de 2, podemos criar um  de maneira ainda mais simples.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dict_novo</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">arit</span><span class="p">,</span><span class="n">ops</span><span class="p">))</span> <span class="c1"># visto que dicts</span>
<span class="n">dict_novo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;div&#39;: &#39;**&#39;, &#39;mult&#39;: &#39;+&#39;, &#39;subtr&#39;: &#39;-&#39;, &#39;pot&#39;: &#39;/&#39;, &#39;soma&#39;: &#39;*&#39;}
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="conjuntos">
<h2>Conjuntos<a class="headerlink" href="#conjuntos" title="Permalink to this headline">¶</a></h2>
<p>Um conjunto (<em>set</em>) é uma coleção não ordenada de elementos únicos. Eles podem ser criados através da função <code class="docutils literal notranslate"><span class="pre">set</span></code> ou de uma expressão literal com um par de chaves <code class="docutils literal notranslate"><span class="pre">{}</span></code>. Eles são parecidos com <em>dicts</em>, porém não possuem chaves (<em>keys</em>).</p>
<p><strong>Exemplo:</strong> Crie o conjunto dos números pares positivos e menores do que 15.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pq1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">pq2</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>Em <code class="docutils literal notranslate"><span class="pre">pq1</span></code>, criamos o conjunto por função, usando <code class="docutils literal notranslate"><span class="pre">range</span></code> para gerar os números.</p></li>
<li><p>Em <code class="docutils literal notranslate"><span class="pre">pq2</span></code>, criamos o conjunto literalmente, por extensão.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span> <span class="c1"># &#39;set&#39; possui unicidade de elementos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4}
</pre></div>
</div>
</div>
</div>
<section id="operacoes-com-conjuntos">
<h3>Operações com conjuntos<a class="headerlink" href="#operacoes-com-conjuntos" title="Permalink to this headline">¶</a></h3>
<p>A seguir mostraremos uma série de operações com conjuntos. Considere os seguintes conjuntos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span>
<span class="n">B</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">}</span>
<span class="n">C</span> <span class="o">=</span> <span class="p">{</span><span class="mi">6</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<section id="uniao-de-conjuntos">
<h4>União de conjuntos<a class="headerlink" href="#uniao-de-conjuntos" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="c1"># união</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4, 5}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">|</span> <span class="n">B</span> <span class="c1"># união com operador alternativo (&#39;ou&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4, 5}
</pre></div>
</div>
</div>
</div>
</section>
<section id="atualizacao-de-conjuntos-uniao">
<h4>Atualização de conjuntos (união)<a class="headerlink" href="#atualizacao-de-conjuntos-uniao" title="Permalink to this headline">¶</a></h4>
<p>A união <em>in-place</em> de dois conjuntos pode ser feita com <code class="docutils literal notranslate"><span class="pre">update</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{6}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="c1"># C é atualizado com elementos de B</span>
<span class="n">C</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{3, 4, 5, 6}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="c1"># conjunto união com A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4, 5, 6}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C</span> <span class="c1"># os elementos de A não foram atualizados em C</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{3, 4, 5, 6}
</pre></div>
</div>
</div>
</div>
<p>A atualização da união possui a seguinte forma alternativa com <code class="docutils literal notranslate"><span class="pre">|=</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C</span> <span class="o">|=</span> <span class="n">A</span> <span class="c1"># elementos de A atualizados em C</span>
<span class="n">C</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4, 5, 6}
</pre></div>
</div>
</div>
</div>
</section>
<section id="intersecao-de-conjuntos">
<h4>Interseção de conjuntos<a class="headerlink" href="#intersecao-de-conjuntos" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="c1"># interseção</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{3}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">&amp;</span> <span class="n">B</span> <span class="c1"># interseção com operador alternativo (&#39;e&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{3}
</pre></div>
</div>
</div>
</div>
</section>
<section id="atualizacao-de-conjuntos-intersecao">
<h4>Atualização de conjuntos (interseção)<a class="headerlink" href="#atualizacao-de-conjuntos-intersecao" title="Permalink to this headline">¶</a></h4>
<p>A interseção <em>in-place</em> de dois conjuntos pode ser feita com <code class="docutils literal notranslate"><span class="pre">intersection_update</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span>
<span class="n">E</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">E</span><span class="p">)</span> <span class="c1"># interseção com E</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{2, 3, 4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="c1"># D inalterado</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span><span class="n">E</span><span class="p">)</span> 
<span class="n">D</span> <span class="c1"># D alterado</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{2, 3, 4}
</pre></div>
</div>
</div>
</div>
<p>A atualização da interseção possui a seguinte forma alternativa com <code class="docutils literal notranslate"><span class="pre">&amp;=</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">&amp;=</span> <span class="n">E</span>
<span class="n">D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{2, 3, 4}
</pre></div>
</div>
</div>
</div>
</section>
<section id="diferenca-entre-conjuntos">
<h4>Diferença entre conjuntos<a class="headerlink" href="#diferenca-entre-conjuntos" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{2, 3, 4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">D</span><span class="p">)</span> <span class="c1"># apenas elementos de A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="c1"># apenas elementos de D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">-</span> <span class="n">D</span> <span class="c1"># operador alternativo </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">-</span> <span class="n">A</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{4}
</pre></div>
</div>
</div>
</div>
</section>
<section id="atualizacao-de-conjuntos-diferenca">
<h4>Atualização de conjuntos (diferença)<a class="headerlink" href="#atualizacao-de-conjuntos-diferenca" title="Permalink to this headline">¶</a></h4>
<p>A interseção <em>in-place</em> de dois conjuntos pode ser feita com <code class="docutils literal notranslate"><span class="pre">difference_update</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span>
<span class="n">E</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="n">D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="n">D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{4}
</pre></div>
</div>
</div>
</div>
<p>A atualização da diferença possui a seguinte forma alternativa com <code class="docutils literal notranslate"><span class="pre">-=</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">-=</span> <span class="n">E</span>
<span class="n">D</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{4}
</pre></div>
</div>
</div>
</div>
</section>
<section id="adicao-ou-remocao-de-elementos">
<h4>Adição ou remoção de elementos<a class="headerlink" href="#adicao-ou-remocao-de-elementos" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># adiciona 4 a A</span>
<span class="n">A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">B</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{3, 4, 5}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">B</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># remove 3 de B</span>
<span class="n">B</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{4, 5}
</pre></div>
</div>
</div>
</div>
</section>
<section id="reinicializacao-de-um-conjunto-vazio">
<h4>Reinicialização de um conjunto (vazio)<a class="headerlink" href="#reinicializacao-de-um-conjunto-vazio" title="Permalink to this headline">¶</a></h4>
<p>Podemos remover todos os elementos de um conjunto com <code class="docutils literal notranslate"><span class="pre">clear</span></code>, deixando-o em um estado vazio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">A</span> <span class="c1"># A é vazio</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>set()
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="c1"># 0 elementos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
</section>
<section id="continencia">
<h4>Continência<a class="headerlink" href="#continencia" title="Permalink to this headline">¶</a></h4>
<p>Podemos verificar se um conjunto <span class="math notranslate nohighlight">\(A\)</span> é subconjunto de (está contido em) outro conjunto <span class="math notranslate nohighlight">\(B\)</span> (<span class="math notranslate nohighlight">\(A \subseteq B\)</span>) ou se <span class="math notranslate nohighlight">\(B\)</span> é um superconjunto para (contém) <span class="math notranslate nohighlight">\(A\)</span> (<span class="math notranslate nohighlight">\(B \supseteq A\)</span>) com <code class="docutils literal notranslate"><span class="pre">issubset</span></code> e  <code class="docutils literal notranslate"><span class="pre">issuperset</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">B</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{4, 5}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4, 5, 6}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">B</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="c1"># B está contido em C</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="c1"># C contém B</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
<section id="subconjuntos-e-subconjuntos-proprios">
<h4>Subconjuntos e subconjuntos próprios<a class="headerlink" href="#subconjuntos-e-subconjuntos-proprios" title="Permalink to this headline">¶</a></h4>
<p>Podemos usar operadores de comparação entre conjuntos para verificar continência.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(A \subseteq B\)</span>: <span class="math notranslate nohighlight">\(A\)</span> é subconjunto de <span class="math notranslate nohighlight">\(B\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(A \subset B\)</span>: <span class="math notranslate nohighlight">\(A\)</span> é subconjunto próprio de <span class="math notranslate nohighlight">\(B\)</span> (<span class="math notranslate nohighlight">\(A\)</span> possui elementos que não estão em <span class="math notranslate nohighlight">\(B\)</span>)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span> <span class="o">&lt;=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span> <span class="c1"># subconjunto</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span> <span class="o">&lt;</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span> <span class="c1"># subconjunto próprio</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span> <span class="o">&gt;</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span> <span class="o">&gt;=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
</section>
<section id="disjuncao">
<h4>Disjunção<a class="headerlink" href="#disjuncao" title="Permalink to this headline">¶</a></h4>
<p>Dois conjuntos são disjuntos se sua interseção é vazia. Podemos verificar a disjunção com <code class="docutils literal notranslate"><span class="pre">isdisjoint</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">E</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 5}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span>
<span class="n">G</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{1, 2, 3, 4}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">E</span><span class="o">.</span><span class="n">isdisjoint</span><span class="p">(</span><span class="n">G</span><span class="p">)</span> <span class="c1"># 1,2,3 são comuns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
</section>
<section id="igualdade-entre-conjuntos">
<h4>Igualdade entre conjuntos<a class="headerlink" href="#igualdade-entre-conjuntos" title="Permalink to this headline">¶</a></h4>
<p>Dois conjuntos são iguais se contém os mesmos elementos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span>
<span class="n">I</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">J</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">==</span> <span class="n">I</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">==</span> <span class="n">J</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span> <span class="o">==</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span> <span class="c1"># lembre-se da unicidade</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="compreensoes-de-lista">
<h2>Compreensões de lista<a class="headerlink" href="#compreensoes-de-lista" title="Permalink to this headline">¶</a></h2>
<p>As listas são as sequências mais comuns em Python. Listas são objetos mutáveis de comprimento variável. Dominar este tipo de dado é fundamental para compreender o preenchimento de sequências de praticamente qualquer outro tipo. Começaremos aprendendo sobre compreensões de lista, ou, no jargão do Python, <em>listcomps</em>.</p>
<p><strong>Exemplo:</strong> Construa uma lista dos códigos <em>Unicode</em> correspondentes dos caracteres de uma <em>string</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">palavra</span> <span class="o">=</span> <span class="s1">&#39;!@#$%&#39;</span>
<span class="n">cods</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">palavra</span><span class="p">:</span>
    <span class="n">cods</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
<span class="n">cods</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[33, 64, 35, 36, 37]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ord</span></code> produz o número ordinal correspondente de um caracter segundo o padrão Unicode. Para saber o código hexadecimal correspondente, pode-se fazer <code class="docutils literal notranslate"><span class="pre">hex(ord(c))</span></code>.</p></li>
</ul>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Caracteres, emojis e símbolos são números codificados! Para saber mais sobre o padrão Unicode, veja este <a class="reference external" href="https://home.unicode.org">site</a>.</p>
</div>
<p><strong>Exemplo:</strong> Construa uma <em>listcomp</em> correspondente.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">palavra</span> <span class="o">=</span> <span class="s1">&#39;!@#$%&#39;</span>
<span class="n">cods</span> <span class="o">=</span> <span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">palavra</span><span class="p">]</span>
<span class="n">cods</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[33, 64, 35, 36, 37]
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>Uma <em>listcomp</em> é mais legível e sua intenção é explícita. Todavia, é preciso ser cauteloso para não criarmos códigos ilegíveis abusando de <em>listcomps</em>.</p></li>
<li><p>Como quebras de linha são ignoradas dentro de pares <code class="docutils literal notranslate"><span class="pre">[]</span></code>,<code class="docutils literal notranslate"><span class="pre">()</span></code> ou <code class="docutils literal notranslate"><span class="pre">{}</span></code>, é possível quebrar uma instrução de <em>listcomp</em> sem usar o caracter de escape para quebra de linha <code class="docutils literal notranslate"><span class="pre">\</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># listcomp com quebra de linha sem `\`</span>
<span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">c</span> 
 <span class="ow">in</span> <span class="n">palavra</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[33, 64, 35, 36, 37]
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Construa um produto cartesiano de pares <span class="math notranslate nohighlight">\((a,b)\)</span>, onde <span class="math notranslate nohighlight">\(a\)</span> é um tipo de sangue de acordo com o sistema ABO e <span class="math notranslate nohighlight">\(b\)</span> é o Fator Rh.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;O&#39;</span><span class="p">,</span><span class="s1">&#39;AB&#39;</span><span class="p">]</span>
<span class="n">Rh</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">]</span>
<span class="n">sangue</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">Rh</span><span class="p">]</span>
<span class="n">sangue</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;A&#39;, &#39;+&#39;),
 (&#39;A&#39;, &#39;-&#39;),
 (&#39;B&#39;, &#39;+&#39;),
 (&#39;B&#39;, &#39;-&#39;),
 (&#39;O&#39;, &#39;+&#39;),
 (&#39;O&#39;, &#39;-&#39;),
 (&#39;AB&#39;, &#39;+&#39;),
 (&#39;AB&#39;, &#39;-&#39;)]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>A <em>listcomp</em> anterior usa dois <code class="docutils literal notranslate"><span class="pre">for</span></code> que iteram sobre as sequências <code class="docutils literal notranslate"><span class="pre">A</span></code> e <code class="docutils literal notranslate"><span class="pre">Rh</span></code> e constroi uma lista de tuplas do tipo <em>(a,b)</em>.</p></li>
</ul>
<p><strong>Exemplo:</strong> Construa um produto cartesiano de pares <span class="math notranslate nohighlight">\((a,b)\)</span>, onde <span class="math notranslate nohighlight">\(a\)</span> é o FatorRh e <span class="math notranslate nohighlight">\(b\)</span> é um tipo de sangue de acordo com o sistema ABO.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">Rh</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;+&#39;, &#39;A&#39;),
 (&#39;-&#39;, &#39;A&#39;),
 (&#39;+&#39;, &#39;B&#39;),
 (&#39;-&#39;, &#39;B&#39;),
 (&#39;+&#39;, &#39;O&#39;),
 (&#39;-&#39;, &#39;O&#39;),
 (&#39;+&#39;, &#39;AB&#39;),
 (&#39;-&#39;, &#39;AB&#39;)]
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>Note que, neste caso, basta alterarmos a ordem dos elementos da tupla.</p></li>
</ul>
<p><strong>Exemplo:</strong> Use <em>listcomps</em> com condicionais para criar filtros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># equipes da fórmula 1</span>
<span class="n">f1</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Red Bull Racing&#39;</span><span class="p">,</span><span class="s1">&#39;Mercedes&#39;</span><span class="p">,</span>
 <span class="s1">&#39;McLaren&#39;</span><span class="p">,</span><span class="s1">&#39;Ferrari&#39;</span><span class="p">,</span><span class="s1">&#39;AlphaTauri&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Aston Martin&#39;</span><span class="p">,</span><span class="s1">&#39;Alpine&#39;</span><span class="p">,</span><span class="s1">&#39;Alfa Romeo Racing&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Williams&#39;</span><span class="p">,</span><span class="s1">&#39;Haas F1 Team&#39;</span><span class="p">]</span>

<span class="c1"># equipes que começam com A, em maiúsculas</span>
<span class="p">[</span><span class="n">team</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">f1</span> <span class="k">if</span> <span class="n">team</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;A&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ALPHATAURI&#39;, &#39;ASTON MARTIN&#39;, &#39;ALPINE&#39;, &#39;ALFA ROMEO RACING&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># equipes cujo nome não inicia com A e tem menos do que 10 caracteres</span>
<span class="p">[</span><span class="n">team</span> <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">f1</span> 
 <span class="k">if</span> <span class="n">team</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;A&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">team</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Mercedes&#39;, &#39;McLaren&#39;, &#39;Ferrari&#39;, &#39;Williams&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="compreensoes-de-conjuntos">
<h2>Compreensões de conjuntos<a class="headerlink" href="#compreensoes-de-conjuntos" title="Permalink to this headline">¶</a></h2>
<p>Semelhantemente a <em>listcomps</em>, podemos realizar “<em>setcomps</em>”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># comprimentos de nomes de equipes (únicos)</span>
<span class="p">{</span><span class="nb">len</span><span class="p">(</span><span class="n">team</span><span class="p">)</span> <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">f1</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{6, 7, 8, 10, 12, 15, 17}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">team</span><span class="p">)</span> <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">f1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[15, 8, 7, 7, 10, 12, 6, 17, 8, 12]
</pre></div>
</div>
</div>
</div>
<p>Comentários:</p>
<ul class="simple">
<li><p>Note que a <em>listcomp</em> para este caso possuiria elementos repetidos.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># comprimento de nomes de equipes que terminam com &quot;ing&quot;</span>
<span class="p">{</span><span class="nb">len</span><span class="p">(</span><span class="n">team</span><span class="p">)</span> <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">f1</span> <span class="k">if</span> <span class="n">team</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;ing&#39;</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{15, 17}
</pre></div>
</div>
</div>
</div>
</section>
<section id="compreensoes-de-dicionarios">
<h2>Compreensões de dicionários<a class="headerlink" href="#compreensoes-de-dicionarios" title="Permalink to this headline">¶</a></h2>
<p>Compreensões de dicionários, ou “<em>dictcomps</em>”, possuem resultados similares às anteriores e são convenientes para criar <em>dicts</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">f1</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{0: &#39;Red Bull Racing&#39;,
 1: &#39;Mercedes&#39;,
 2: &#39;McLaren&#39;,
 3: &#39;Ferrari&#39;,
 4: &#39;AlphaTauri&#39;,
 5: &#39;Aston Martin&#39;,
 6: &#39;Alpine&#39;,
 7: &#39;Alfa Romeo Racing&#39;,
 8: &#39;Williams&#39;,
 9: &#39;Haas F1 Team&#39;}
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enumerate</span></code> é um objeto que constroi uma enumeração para um iterável.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># enumera a partir do índice 7, mas percorre toda a lista</span>
<span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span><span class="mi">7</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{7: &#39;Red Bull Racing&#39;,
 8: &#39;Mercedes&#39;,
 9: &#39;McLaren&#39;,
 10: &#39;Ferrari&#39;,
 11: &#39;AlphaTauri&#39;,
 12: &#39;Aston Martin&#39;,
 13: &#39;Alpine&#39;,
 14: &#39;Alfa Romeo Racing&#39;,
 15: &#39;Williams&#39;,
 16: &#39;Haas F1 Team&#39;}
</pre></div>
</div>
</div>
</div>
</section>
<section id="sorted">
<h2><em>Sorted</em><a class="headerlink" href="#sorted" title="Permalink to this headline">¶</a></h2>
<p>Listas em Python possuem um método chamado <code class="docutils literal notranslate"><span class="pre">sort</span></code> com o qual podemos realizar uma ordenação <em>in-place</em> de uma lista. Por outro lado, a função <code class="docutils literal notranslate"><span class="pre">sorted</span></code> permite que façamos o mesmo criando uma nova lista e, dessa maneira, não alterando a lista original.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># copia lista f1</span>
<span class="n">f1c</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">f1c</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Red Bull Racing&#39;,
 &#39;Mercedes&#39;,
 &#39;McLaren&#39;,
 &#39;Ferrari&#39;,
 &#39;AlphaTauri&#39;,
 &#39;Aston Martin&#39;,
 &#39;Alpine&#39;,
 &#39;Alfa Romeo Racing&#39;,
 &#39;Williams&#39;,
 &#39;Haas F1 Team&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lista ordenada</span>
<span class="n">f1c</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="n">f1c</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Alfa Romeo Racing&#39;,
 &#39;AlphaTauri&#39;,
 &#39;Alpine&#39;,
 &#39;Aston Martin&#39;,
 &#39;Ferrari&#39;,
 &#39;Haas F1 Team&#39;,
 &#39;McLaren&#39;,
 &#39;Mercedes&#39;,
 &#39;Red Bull Racing&#39;,
 &#39;Williams&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lista f1 ordenada</span>
<span class="n">f1c2</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span>
<span class="n">f1c2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Alfa Romeo Racing&#39;,
 &#39;AlphaTauri&#39;,
 &#39;Alpine&#39;,
 &#39;Aston Martin&#39;,
 &#39;Ferrari&#39;,
 &#39;Haas F1 Team&#39;,
 &#39;McLaren&#39;,
 &#39;Mercedes&#39;,
 &#39;Red Bull Racing&#39;,
 &#39;Williams&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lista original intacta</span>
<span class="n">f1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Red Bull Racing&#39;,
 &#39;Mercedes&#39;,
 &#39;McLaren&#39;,
 &#39;Ferrari&#39;,
 &#39;AlphaTauri&#39;,
 &#39;Aston Martin&#39;,
 &#39;Alpine&#39;,
 &#39;Alfa Romeo Racing&#39;,
 &#39;Williams&#39;,
 &#39;Haas F1 Team&#39;]
</pre></div>
</div>
</div>
</div>
<p>Para realizar a ordenação reversa, usamos <code class="docutils literal notranslate"><span class="pre">reverse=True</span></code> na função <code class="docutils literal notranslate"><span class="pre">sorted</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ordenação re</span>
<span class="nb">sorted</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Williams&#39;,
 &#39;Red Bull Racing&#39;,
 &#39;Mercedes&#39;,
 &#39;McLaren&#39;,
 &#39;Haas F1 Team&#39;,
 &#39;Ferrari&#39;,
 &#39;Aston Martin&#39;,
 &#39;Alpine&#39;,
 &#39;AlphaTauri&#39;,
 &#39;Alfa Romeo Racing&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="aleatoriedade">
<h2>Aleatoriedade<a class="headerlink" href="#aleatoriedade" title="Permalink to this headline">¶</a></h2>
<p>Números aleatórios, ou também chamados de randômicos, são úteis para fabricar experimentos estatísticos, realizar amostragem e desenvolver uma série de estudos envolvendo probabilidade.</p>
<p>Em Python, podemos usar o módulo <code class="docutils literal notranslate"><span class="pre">random</span></code> para atingir uma diversidade de propósitos em ciência de dados. Vamos explorar algumas funções para geração aleatória: <code class="docutils literal notranslate"><span class="pre">choice</span></code>, <code class="docutils literal notranslate"><span class="pre">random</span></code>, <code class="docutils literal notranslate"><span class="pre">randint</span></code>, <code class="docutils literal notranslate"><span class="pre">shuffle</span></code> e <code class="docutils literal notranslate"><span class="pre">sample</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Crie um experimento de lançamento de dados e realize uma escolha aleatória em <span class="math notranslate nohighlight">\(n\)</span> lançamentos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dado</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>

<span class="n">n</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">dado</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
1
5
2
</pre></div>
</div>
</div>
</div>
<p>Comentários:</p>
<ul class="simple">
<li><p>O <em>loop</em> será repetido <span class="math notranslate nohighlight">\(n\)</span> vezes.</p></li>
<li><p>O método <code class="docutils literal notranslate"><span class="pre">choice</span></code> escolhe um valor ao acaso entre os disponíveis na lista.</p></li>
</ul>
<p><strong>Exemplo:</strong> Crie um experimento de probabilidade aleatório que determine a salinidade presente em 1 litro de água marinha (3 - 5%).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">na</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">saly</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">na</span><span class="p">):</span>
    <span class="n">saly</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.03</span> <span class="o">+</span> <span class="p">(</span><span class="mf">0.05</span><span class="o">-</span><span class="mf">0.03</span><span class="p">)</span><span class="o">*</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">())</span>
<span class="n">saly</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.045050420686575235,
 0.03604191301033581,
 0.043942882418974434,
 0.04297061363142192,
 0.035321529319922725]
</pre></div>
</div>
</div>
</div>
<p>Comentários:</p>
<ul class="simple">
<li><p>Este experimento equivale a coletar 5 amostras de água marinha com salinidade variável entre 3 e 5%.</p></li>
<li><p>O método <code class="docutils literal notranslate"><span class="pre">random</span></code> determina um número aleatório no intervalo [0,1).</p></li>
</ul>
<p><strong>Exemplo:</strong> Crie um experimento que ordena 15 arremessadores para cestas de 3 pontos durante um treinamento do time do Los Angeles Lakers (0 a 99) excluindo a lista de números reservados. Considere que se o número sorteado não estiver atribuído a nenhum jogador atual ou se já tiver sido sorteado, o técnico escolherá o próximo da lista.</p>
<p>Lista de números reservados: 8,13,17,19,22,24,25,32,33,34,42,44,52,99.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reservados</span> <span class="o">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="mi">52</span><span class="p">,</span><span class="mi">99</span><span class="p">]</span>

<span class="n">shooter</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">shooter</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">15</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">99</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">reservados</span> <span class="ow">and</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">shooter</span><span class="p">:</span>
        <span class="n">shooter</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>    

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Los Angeles Lakers :: 3-point shooters (Training Schedule):&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">shooter</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Los Angeles Lakers :: 3-point shooters (Training Schedule):
40
71
23
97
3
93
68
74
27
0
39
47
30
96
88
</pre></div>
</div>
</div>
</div>
<p>Comentários:</p>
<ul class="simple">
<li><p>O <em>loop</em> <em>while</em> encerrará quando uma lista com 15 arremessadores estiver completa.</p></li>
<li><p>A estrutura condicional previne que números já sorteados entrem na lista.</p></li>
<li><p>O método <code class="docutils literal notranslate"><span class="pre">randint</span></code> escolhe um número inteiro aleatório entre 0 e 99.</p></li>
</ul>
<p><strong>Exemplo:</strong> Crie uma alteração no schedule de treinamento anterior a partir da última lista disponível.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">shooter</span><span class="p">))</span>
<span class="n">shooter</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>None
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[30, 93, 74, 0, 23, 47, 96, 39, 68, 40, 27, 97, 71, 3, 88]
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>O método <code class="docutils literal notranslate"><span class="pre">shuffle</span></code> reordena a lista <code class="docutils literal notranslate"><span class="pre">shooter</span></code> randomicamente e produz um valor <code class="docutils literal notranslate"><span class="pre">None</span></code> como saída. Dessa forma, geramos uma nova lista com os mesmos arremessadores pré-selecionados, mas em ordem distinta.</p></li>
</ul>
<p><strong>Exemplo:</strong> Construa uma tabela aleatória de 3 jogos de beisebol entre times da MLB.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lê arquivo com nome de times da MLB</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../database/mlb-teams.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">mlb</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
    
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">mlb</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Game </span><span class="si">{</span><span class="n">_</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s1"> x </span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>        
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Game 1: Pittsburgh Pirates x Baltimore Orioles
Game 2: San Diego Padres x Chicago White Sox
Game 3: Kansas City Royals x New York Mets
</pre></div>
</div>
</div>
</div>
<p>Comentários:</p>
<ul class="simple">
<li><p>O método <code class="docutils literal notranslate"><span class="pre">sample</span></code> realiza uma amostragem de <span class="math notranslate nohighlight">\(k\)</span> valores disponíveis na lista. Aqui, escolhemos <span class="math notranslate nohighlight">\(k=2\)</span>, de modo que 2 times são escolhidos ao acaso para comporem 3 jogos.</p></li>
</ul>
</section>
<section id="expressoes-regulares">
<h2>Expressões regulares<a class="headerlink" href="#expressoes-regulares" title="Permalink to this headline">¶</a></h2>
<p>Expressões regulares (<em>regular expressions</em>), também conhecidas como <em>RE</em>, <em>regexes</em>, ou <em>regex pattern</em> são regras estabelecidas para localizar padrões desejados em strings. REs, na verdade, formam uma pequena linguagem de programação dentro de uma linguagem maior.</p>
<p>Em Python, REs funcionam com base em códigos escritos na linguagem C. Nossa intenção aqui é fazer uma introdução sobre a utilidade e aplicabilidade de expressões regulares. Para entender este tema com profundidade, é necessário estudar aspectos internos de compiladores.</p>
<section id="para-que-usamos-regex">
<h3>Para que usamos <em>regex</em>?<a class="headerlink" href="#para-que-usamos-regex" title="Permalink to this headline">¶</a></h3>
<p>Expressões regulares são implicitamente usadas por nós quase que diariamente quando utilizamos comandos do tipo <em>Localizar</em> para buscar uma palavra em uma página da internet ou dentro de um arquivo PDF. Porém, elas nos permitem fazer muito mais do que uma simples busca por palavras.</p>
<p>O texto a seguir é um trecho do livro <em>Memórias Póstumas de Brás Cubas</em>, de Machado de Assis, que pode ser recuperado pelo arquivo <a href="database/bras-cubas.txt" download="database/bras-cubas.txt">bras-cubas.txt</a>:</p>
<blockquote>
<div><p>Não durou muito a evocação; a realidade dominou logo; o presente expeliu o passado. Talvez eu exponha ao leitor, em algum canto deste livro, a minha teoria das edições humanas. O que por agora importa saber é que Virgília — chamava-se Virgília — entrou na alcova, firme, com a gravidade que lhe davam as roupas e os anos, e veio até o meu leito. O estranho levantou-se e saiu. Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo. Saiu; Virgília deixou-se estar de pé; durante algum tempo ficamos a olhar um para o outro, sem articular palavra. Quem diria? De dois grandes namorados, de duas paixões sem freio, nada mais havia ali, vinte anos depois; havia apenas dois corações murchos, devastados pela vida e saciados dela, não sei se em igual dose, mas enfim saciados. Virgília tinha agora a beleza da velhice, um ar austero e maternal; estava menos magra do que quando a vi, pela última vez, numa festa de São João, na Tijuca; e porque era das que resistem muito, só agora começavam os cabelos escuros a intercalar-se com alguns fios de prata.</p>
</div></blockquote>
<p>Suponha que você quisesse localizar quantas vezes a palavra “Vírgilia” aparece neste trecho do livro. Com a ajuda de um editor de textos munido de um comando de busca, facilmente encontraríamos a resposta. São 4 vezes.</p>
<p>Agora, suponha que você quisesse localizar se, neste mesmo texto, há alguma ocorrência do seguinte padrão: <em>palavra que se inicia com a letra “p”, maiúscula ou minúscula, possui pelo menos uma letra “i” e a letra “i” deve ser, no máximo, o quarto caracter</em>. Claramente, não conseguiríamos cumprir esta exigência tão facilmente como encontrar “Virgília”. Com algum esforço visual, conseguimos verificar no texto que “paixões” atende este critério. Como faríamos isto usando Python? Ou melhor, como faríamos isto usando Python em um arquivo com 550.000 palavras para serem analisadas?</p>
<p>O padrão que acabamos de descrever pode ser procurado por meio de uma <em>regex</em>. Ou seja, <em>regex</em> são úteis quando desejamos buscar um determinado padrão em <em>strings</em>. A seguir, vamos usar o pequeno texto de Machado de Assis como base para aprender um pouco sobre <em>regex</em>.</p>
</section>
<section id="padroes-simples-caracterese-ordinarios-e-metacaracteres">
<h3>Padrões simples, caracterese ordinários e metacaracteres<a class="headerlink" href="#padroes-simples-caracterese-ordinarios-e-metacaracteres" title="Permalink to this headline">¶</a></h3>
<p>A tarefa mais simples que podemos executar com REs é combinar caracteres. Por exemplo, sabemos que a string <code class="docutils literal notranslate"><span class="pre">'murchos'</span></code> equivale à string <code class="docutils literal notranslate"><span class="pre">'murchos'</span></code>, mas não equivale à string <code class="docutils literal notranslate"><span class="pre">'moribundos'</span></code>. No primeiro caso, todos os caracteres se combinam e estão posicionados nos mesmos lugares; no segundo caso, embora alguns caracteres se combinem, a exemplo de <code class="docutils literal notranslate"><span class="pre">'m'</span></code>, <code class="docutils literal notranslate"><span class="pre">'r'</span></code>, <code class="docutils literal notranslate"><span class="pre">'o'</span></code> e <code class="docutils literal notranslate"><span class="pre">'s'</span></code>, e estejam posicionados aparentemente em mesmos lugares (no início, terceira posição e final da string), obviamente uma string não combina <strong>exatamente</strong> com a outra.</p>
<p>Há muitos caracteres que podem ser usados para combinações simples. Por exemplo, quando em <em>case insensitive</em>, <code class="docutils literal notranslate"><span class="pre">'mur'</span></code> é um padrão encontrado tanto em <code class="docutils literal notranslate"><span class="pre">'Murcho'</span></code>, quanto em <code class="docutils literal notranslate"><span class="pre">'muralha'</span></code> ou em <code class="docutils literal notranslate"><span class="pre">'HAMURABI'</span></code>. Entretanto, há caracteres que não podem ser combinados da forma como o lemos. Por exemplo, para buscarmos o padrão <code class="docutils literal notranslate"><span class="pre">'\textsuperscript'</span></code> em uma string, o caracter <code class="docutils literal notranslate"><span class="pre">'\'</span></code> não pode ser usado de forma <em>literal</em>. Ele é um <em>metacaracter</em>.</p>
<p><em>Caracteres ordinários</em> são basicamente todos os caracteres ASCII alfanuméricos, tais como <code class="docutils literal notranslate"><span class="pre">'b'</span></code>,  <code class="docutils literal notranslate"><span class="pre">'B'</span></code> e <code class="docutils literal notranslate"><span class="pre">'1'</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ASCII, de <em>American Standard Code for Information Interchange</em>, é um padrão de codificação de caracteres que foi predominantemente usado desde a década de 1960 e tornou-se um padrão da internet em 2015 contendo apenas 128 caracteres. Em 2007, ele foi suplantado pelo padrão UTF-8 (<em>Unicode Transformation Format - 8 bit</em>), gerido pela iniciativa Unicode (<em>Universal Coded Character Set</em>). O UTF-8 é um padrão mais novo que comporta 1.112.064 caracteres e também é o usual no Python 3. Os 128 primeiros caracteres do padrão UTF-8 são os 128 primeiros da lista do UTF-8, dos quais alguns tornaram-se obsoletos.</p>
</div>
<p><em>Caracteres especiais</em> são todos os metacaracteres. A lista dos metacaracteres é a seguinte:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>. ^ $ * + ? { } [ ] \ | ( )
</pre></div>
</div>
<p>Todos eles exercem papéis especiais na linguagem das REs como veremos a seguir.</p>
<p>Para efeito de curiosidade, o seguinte código imprime os caracteres ASCII mais comuns. A partir do fatiamento da lista, podemos gerar as sublistas que contêm apenas números e letras. Deixaremos isto como exercício. Cabe enfatizar, entretanto, que em Python 3, o padrão de caracter</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># imprime caracteres ASCII mais comuns </span>
<span class="c1"># end = &#39; &#39; altera a terminação padrão &#39;\n&#39;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span><span class="mi">127</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>! &quot; # $ % &amp; &#39; ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ 
</pre></div>
</div>
</div>
</div>
</section>
<section id="o-modulo-re">
<h3>O módulo <code class="docutils literal notranslate"><span class="pre">re</span></code><a class="headerlink" href="#o-modulo-re" title="Permalink to this headline">¶</a></h3>
<p>Em Python, temos à disposição o módulo <code class="docutils literal notranslate"><span class="pre">re</span></code> para trabalhar com REs. Vejamos o que ele pode nos proporcionar. Antes de prosseguir, vamos ler o arquivo e salvar o texto em uma <em>string</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;../database/bras-cubas.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">cubas</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">cubas</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Não durou muito a evocação; a realidade dominou logo; o presente expeliu o passado. Talvez eu exponha ao leitor, em algum canto deste livro, a minha teoria das edições humanas. O que por agora importa saber é que Virgília — chamava-se Virgília — entrou na alcova, firme, com a gravidade que lhe davam as roupas e os anos, e veio até o meu leito. O estranho levantou-se e saiu. Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo. Saiu; Virgília deixou-se estar de pé; durante algum tempo ficamos a olhar um para o outro, sem articular palavra. Quem diria? De dois grandes namorados, de duas paixões sem freio, nada mais havia ali, vinte anos depois; havia apenas dois corações murchos, devastados pela vida e saciados dela, não sei se em igual dose, mas enfim saciados. Virgília tinha agora a beleza da velhice, um ar austero e maternal; estava menos magra do que quando a vi, pela última vez, numa festa de São João, na Tijuca; e porque era das que resistem muito, só agora começavam os cabelos escuros a intercalar-se com alguns fios de prata.&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># importa o módulo</span>
<span class="kn">import</span> <span class="nn">re</span>
</pre></div>
</div>
</div>
</div>
<p>As principais funções do módulo <code class="docutils literal notranslate"><span class="pre">re</span></code> podem ser resumidas ao seguinte modelo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="n">string</span><span class="p">)</span>
</pre></div>
</div>
<p>onde <em>f</em> é o nome da função, <em>pattern</em> é o padrão, isto é, a <em>regex</em>, e <em>string</em> é a string na qual o padrão é procurado. Exploraremos algumas delas a seguir compreendendo, simultaneamente, o papel desempenhado pelos metacaracteres.</p>
<p><strong>Exemplo:</strong> Procure pelo padrão “que” no texto-base e conte quantas vezes ele aparece.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca todas as combinações</span>
<span class="n">que</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;que&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">que</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">que</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;que&#39;, &#39;que&#39;, &#39;que&#39;, &#39;que&#39;, &#39;que&#39;, &#39;que&#39;, &#39;que&#39;]
7
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>O método <code class="docutils literal notranslate"><span class="pre">findall</span></code> procura em <code class="docutils literal notranslate"><span class="pre">cubas</span></code> todas as combinações do padrão “que”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">len</span></code> permite que contemos o número de elementos da lista e, consequentemente, o número de vezes que o padrão aparece. Entretanto, observemos que o padrão poderia ser algo que não formasse uma palavra inteligível. Vejamos o próximo exemplo:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># padrão presente, mas não é palavra inteligível</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;xou&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;xou&#39;]
</pre></div>
</div>
</div>
</div>
<p>Buscas por caracteres ordinários são sempre exatas, no sentido de que o caracter é combinado como ele é. Vejamos um exemplo que conta as vogais que aparecem no texto.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">vogal</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;i&#39;</span><span class="p">,</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="s1">&#39;u&#39;</span><span class="p">]:</span>    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;A vogal </span><span class="se">\&#39;</span><span class="si">{</span><span class="n">vogal</span><span class="si">}</span><span class="se">\&#39;</span><span class="s1"> foi </span><span class="se">\</span>
<span class="s1">localizada </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">vogal</span><span class="p">,</span><span class="n">cubas</span><span class="p">))</span><span class="si">}</span><span class="s1"> vezes no texto.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>A vogal &#39;a&#39; foi localizada 143 vezes no texto.
A vogal &#39;e&#39; foi localizada 104 vezes no texto.
A vogal &#39;i&#39; foi localizada 65 vezes no texto.
A vogal &#39;o&#39; foi localizada 83 vezes no texto.
A vogal &#39;u&#39; foi localizada 43 vezes no texto.
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Busque pelo padrão “Tijuca” no texto e determine suas posições de início e término.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca por combinação retornado posição</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;Tijuca&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">p</span><span class="o">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">p</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1042, 1048, &#39;Tijuca&#39;)
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>O método <code class="docutils literal notranslate"><span class="pre">search</span></code> procura pelo padrão <code class="docutils literal notranslate"><span class="pre">'Tijuca'</span></code> em <code class="docutils literal notranslate"><span class="pre">cubas</span></code> e retorna três informações:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code>: a posição inicial do padrão</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end</span></code>: a posição final do padrão</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group</span></code>: o padrão localizado</p></li>
</ul>
</li>
<li><p>O padrão aparece apenas uma vez no texto na fatia <code class="docutils literal notranslate"><span class="pre">cubas[1042:1048]</span></code>.</p></li>
</ul>
<p>Comentários:</p>
<ul class="simple">
<li><p>Caso houvesse repetição do padrão, apenas os índices da primeira aparição seriam retornados. Vejamos:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;que&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
<span class="n">p2</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">p2</span><span class="o">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">p2</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(179, 182, &#39;que&#39;)
</pre></div>
</div>
</div>
</div>
<p>Vimos anteriormente que há 7 aparições do padrão “que” no texto-base. Porém, apenas a primeira é retornada por <code class="docutils literal notranslate"><span class="pre">search</span></code>. Vejamos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># uma maneira de mostrar que há apenas</span>
<span class="c1"># um &#39;que&#39; até o caracter 182 de &#39;cubas&#39;</span>
<span class="c1"># por meio de split e interseção de conjuntos</span>
<span class="nb">set</span><span class="p">(</span><span class="n">cubas</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">182</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">))</span><span class="o">.</span><span class="n">intersection</span><span class="p">({</span><span class="s1">&#39;que&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;que&#39;}
</pre></div>
</div>
</div>
</div>
<p>Como este conjunto é unitário, há apenas um padrão ‘que’ até a posição 182 de <code class="docutils literal notranslate"><span class="pre">cubas</span></code>.</p>
<p><strong>Exemplo:</strong> Busque pelo padrão “Não” no texto e verifique se ele aparece no início da string.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p3</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;Não&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
<span class="n">p3</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>O método <code class="docutils literal notranslate"><span class="pre">match</span></code> busca por um determinado padrão que aparece <strong>somente</strong> no início de uma string. Quando tal combinação de caracteres é encontrada o método retorna um objeto. Caso contrário, retorna <code class="docutils literal notranslate"><span class="pre">NoneType</span></code>.</p></li>
<li><p>No exemplo anterior, o método <code class="docutils literal notranslate"><span class="pre">start</span></code> mostra que o primeiro caracter do padrão <code class="docutils literal notranslate"><span class="pre">'Não'</span></code>, qual seja, <code class="docutils literal notranslate"><span class="pre">'N'</span></code> , ocupa a primeira posição da string, isto é, a posição 0.</p></li>
</ul>
<p>Comentários:</p>
<ul class="simple">
<li><p>Enquanto <code class="docutils literal notranslate"><span class="pre">re.search</span></code> realiza a busca por um padrão em qualquer posição da string, <code class="docutils literal notranslate"><span class="pre">re.match</span></code> busca se esse mesmo padrão ocorre, exclusivamente, no início da string.</p></li>
<li><p>Há muitas situações em que <code class="docutils literal notranslate"><span class="pre">match</span></code> será a escolha a fazer em seu programa. Em uma string de várias linhas, por exemplo, <code class="docutils literal notranslate"><span class="pre">match</span></code> procurará pelo padrão apenas na primeira linha e ignorará a ocorrência dele nas demais. Opostamente, <code class="docutils literal notranslate"><span class="pre">search</span></code> procurará por ele em todas as linhas. Se forem detectadas mais de uma ocorrência, retornará a posição da primeira ocorrência.</p></li>
<li><p>Em ambos os métodos, quando o padrão não existe na string, o objeto retornado é um <code class="docutils literal notranslate"><span class="pre">NoneType</span></code>.</p></li>
</ul>
<p><strong>Exemplo:</strong> Substitua o padrão “Virgília” por “Ofélia” em toda a string do texto.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cubas_novo</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;Virgília&#39;</span><span class="p">,</span><span class="s1">&#39;Ofélia&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
<span class="n">cubas_novo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Não durou muito a evocação; a realidade dominou logo; o presente expeliu o passado. Talvez eu exponha ao leitor, em algum canto deste livro, a minha teoria das edições humanas. O que por agora importa saber é que Ofélia — chamava-se Ofélia — entrou na alcova, firme, com a gravidade que lhe davam as roupas e os anos, e veio até o meu leito. O estranho levantou-se e saiu. Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo. Saiu; Ofélia deixou-se estar de pé; durante algum tempo ficamos a olhar um para o outro, sem articular palavra. Quem diria? De dois grandes namorados, de duas paixões sem freio, nada mais havia ali, vinte anos depois; havia apenas dois corações murchos, devastados pela vida e saciados dela, não sei se em igual dose, mas enfim saciados. Ofélia tinha agora a beleza da velhice, um ar austero e maternal; estava menos magra do que quando a vi, pela última vez, numa festa de São João, na Tijuca; e porque era das que resistem muito, só agora começavam os cabelos escuros a intercalar-se com alguns fios de prata.&#39;
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>O método <code class="docutils literal notranslate"><span class="pre">sub</span></code> realiza a substituição de um padrão por outro na string passada e sua sintaxe mais genérica é do tipo <code class="docutils literal notranslate"><span class="pre">re.sub(p,r,s)</span></code>, onde <code class="docutils literal notranslate"><span class="pre">p</span></code> é o padrão que se deseja substituir por <code class="docutils literal notranslate"><span class="pre">r</span></code> na string <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p></li>
<li><p>No exemplo dado, a operação com <code class="docutils literal notranslate"><span class="pre">sub</span></code> simplesmente substituirá todas as entradas da palavra “Vírgília” por “Ofélia” em <code class="docutils literal notranslate"><span class="pre">cubas</span></code>, resultando em uma string nova chamada <code class="docutils literal notranslate"><span class="pre">cubas_novo</span></code>.</p></li>
</ul>
<p><strong>Exemplo:</strong> Substitua o padrão “Virgília” por “Ofélia” apenas nas duas primeiras aparições</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cubas_novo2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;Virgília&#39;</span><span class="p">,</span><span class="s1">&#39;Ofélia&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">,</span><span class="n">count</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">cubas_novo2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Não durou muito a evocação; a realidade dominou logo; o presente expeliu o passado. Talvez eu exponha ao leitor, em algum canto deste livro, a minha teoria das edições humanas. O que por agora importa saber é que Ofélia — chamava-se Ofélia — entrou na alcova, firme, com a gravidade que lhe davam as roupas e os anos, e veio até o meu leito. O estranho levantou-se e saiu. Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo. Saiu; Virgília deixou-se estar de pé; durante algum tempo ficamos a olhar um para o outro, sem articular palavra. Quem diria? De dois grandes namorados, de duas paixões sem freio, nada mais havia ali, vinte anos depois; havia apenas dois corações murchos, devastados pela vida e saciados dela, não sei se em igual dose, mas enfim saciados. Virgília tinha agora a beleza da velhice, um ar austero e maternal; estava menos magra do que quando a vi, pela última vez, numa festa de São João, na Tijuca; e porque era das que resistem muito, só agora começavam os cabelos escuros a intercalar-se com alguns fios de prata.&#39;
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>É possível usar a keyword <code class="docutils literal notranslate"><span class="pre">count</span></code> e especificar quantas vezes, em ordem, o padrão deverá ser substituído.</p></li>
<li><p>Como <code class="docutils literal notranslate"><span class="pre">count=2</span></code>, o método <code class="docutils literal notranslate"><span class="pre">sub</span></code> fará a substituição de “Virgília” por “Ofélia” apenas nas duas primeiras ocorrências do padrão, das quatro existentes no texto.</p></li>
</ul>
<p>Comentários:</p>
<ul class="simple">
<li><p>Note que se usássemos <code class="docutils literal notranslate"><span class="pre">re.findall</span></code> para fazer uma breve verificação nas strings <code class="docutils literal notranslate"><span class="pre">cubas</span></code>, <code class="docutils literal notranslate"><span class="pre">cubas_novo</span></code> e <code class="docutils literal notranslate"><span class="pre">cubas_novo2</span></code>, o número de ocorrências de “Virgília” diferiria em cada caso.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># original</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;Virgília&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)))</span>

<span class="c1"># &quot;Virgília&quot; -&gt; &quot;Ofélia&quot; integralmente</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;Virgília&#39;</span><span class="p">,</span><span class="n">cubas_novo</span><span class="p">)))</span>

<span class="c1"># &quot;Virgília&quot; -&gt; &quot;Ofélia&quot; em 2 ocorrências apenas</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;Virgília&#39;</span><span class="p">,</span><span class="n">cubas_novo2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
0
2
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Seccione o texto em várias substrings usando a vírgula (“,”) como ponto de quebra:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cubas_sep</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
<span class="n">cubas_sep</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Não durou muito a evocação; a realidade dominou logo; o presente expeliu o passado. Talvez eu exponha ao leitor&#39;,
 &#39; em algum canto deste livro&#39;,
 &#39; a minha teoria das edições humanas. O que por agora importa saber é que Virgília — chamava-se Virgília — entrou na alcova&#39;,
 &#39; firme&#39;,
 &#39; com a gravidade que lhe davam as roupas e os anos&#39;,
 &#39; e veio até o meu leito. O estranho levantou-se e saiu. Era um sujeito&#39;,
 &#39; que me visitava todos os dias para falar do câmbio&#39;,
 &#39; da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo. Saiu; Virgília deixou-se estar de pé; durante algum tempo ficamos a olhar um para o outro&#39;,
 &#39; sem articular palavra. Quem diria? De dois grandes namorados&#39;,
 &#39; de duas paixões sem freio&#39;,
 &#39; nada mais havia ali&#39;,
 &#39; vinte anos depois; havia apenas dois corações murchos&#39;,
 &#39; devastados pela vida e saciados dela&#39;,
 &#39; não sei se em igual dose&#39;,
 &#39; mas enfim saciados. Virgília tinha agora a beleza da velhice&#39;,
 &#39; um ar austero e maternal; estava menos magra do que quando a vi&#39;,
 &#39; pela última vez&#39;,
 &#39; numa festa de São João&#39;,
 &#39; na Tijuca; e porque era das que resistem muito&#39;,
 &#39; só agora começavam os cabelos escuros a intercalar-se com alguns fios de prata.&#39;]
</pre></div>
</div>
</div>
</div>
<p>Na próxima sessão, vamos incorporar sintaxes especiais nos métodos que aprendemos para realizar propósitos bem mais avançados.</p>
<p>Discussão:</p>
<ul class="simple">
<li><p>O método <code class="docutils literal notranslate"><span class="pre">split</span></code> quebra a string em partes (<em>substrings</em>) substituindo usando o padrão passado ao método como ponto de quebra. Neste exemplo, as vírgulas são removidas e uma lista de strings é retornada.</p></li>
<li><p>Ao utilizar <code class="docutils literal notranslate"><span class="pre">re.split(a,b)</span></code>, lembre-se que <code class="docutils literal notranslate"><span class="pre">a</span></code> é  um padrão a ser encontrado na string <code class="docutils literal notranslate"><span class="pre">b</span></code>. Ele não é necessariamente um caracter único, mas uma expressão regular.</p></li>
</ul>
<p><strong>Exemplo:</strong> Separe a string do texto em no máximo 3 substrings usando o padrão “ão” como ponto de quebra.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># maxsplit = n; logo, n + 1 substrings</span>
<span class="n">cubas_sep3</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;ão&quot;</span><span class="p">,</span><span class="n">cubas</span><span class="p">,</span><span class="n">maxsplit</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">cubas_sep3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;N&#39;,
 &#39; durou muito a evocaç&#39;,
 &#39;; a realidade dominou logo; o presente expeliu o passado. Talvez eu exponha ao leitor, em algum canto deste livro, a minha teoria das edições humanas. O que por agora importa saber é que Virgília — chamava-se Virgília — entrou na alcova, firme, com a gravidade que lhe davam as roupas e os anos, e veio até o meu leito. O estranho levantou-se e saiu. Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo. Saiu; Virgília deixou-se estar de pé; durante algum tempo ficamos a olhar um para o outro, sem articular palavra. Quem diria? De dois grandes namorados, de duas paixões sem freio, nada mais havia ali, vinte anos depois; havia apenas dois corações murchos, devastados pela vida e saciados dela, não sei se em igual dose, mas enfim saciados. Virgília tinha agora a beleza da velhice, um ar austero e maternal; estava menos magra do que quando a vi, pela última vez, numa festa de São João, na Tijuca; e porque era das que resistem muito, só agora começavam os cabelos escuros a intercalar-se com alguns fios de prata.&#39;]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>A <em>keyword</em> <code class="docutils literal notranslate"><span class="pre">maxsplit</span></code> permite que limitemos o número de quebras. Neste exemplo, como <code class="docutils literal notranslate"><span class="pre">maxsplit=2</span></code>, há dois pontos de quebra e, portanto, 3 substrings.</p></li>
<li><p>Note que, neste exemplo, a substring 1 é formada por apenas um caracter, ao passo que a substring 3 comporta todos os caracteres além da segunda ocorrência do padrão “ão”.</p></li>
<li><p>Perceba, adicionalmente, que o padrão não é preservado durante o <em>split</em>.</p></li>
</ul>
</section>
<section id="sintaxes-especiais">
<h3>Sintaxes especiais<a class="headerlink" href="#sintaxes-especiais" title="Permalink to this headline">¶</a></h3>
<p>Os metacaracteres podem ser usados para criar REs das formas mais variadas (e criativas) possíveis. Vejamos exemplos.</p>
<section id="metacaracter">
<h4>Metacaracter <code class="docutils literal notranslate"><span class="pre">.</span></code><a class="headerlink" href="#metacaracter" title="Permalink to this headline">¶</a></h4>
<p>Serve para combinar qualquer caracter, exceto o <em>newline</em> (<code class="docutils literal notranslate"><span class="pre">\n</span></code>), se usado no modo padrão. Em uso não padrão, pode também combinar-se com <code class="docutils literal notranslate"><span class="pre">\n</span></code>.</p>
<p><strong>Exemplo:</strong> Localize padrões com 5 caracteres contendo “lh” na 3a. e 4a. posições.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;..lh.&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;e lhe&#39;, &#39; olha&#39;, &#39;velhi&#39;]
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>Espaço também é um caracter. Por isso, na lista, temos também o padrão possível <code class="docutils literal notranslate"><span class="pre">'e</span> <span class="pre">lhe'</span></code>.</p></li>
</ul>
<p><strong>Exemplo:</strong> Localize padrões iniciando com a letra T maiúscula e contendo, ao todo, 3 caracteres.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;T...&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Talv&#39;, &#39;Tiju&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h4>Metacaracter <code class="docutils literal notranslate"><span class="pre">\</span></code><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Serve para criar escapes de caracteres especiais ou sinalizar uma sequência especial.</p>
<p><strong>Exemplo:</strong> Quebre a string usando o ponto final (“.”) como ponto de quebra.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># escape do metacaracter &#39;.&#39;</span>
<span class="n">mt1</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;\.&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
<span class="n">mt1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Não durou muito a evocação; a realidade dominou logo; o presente expeliu o passado&#39;,
 &#39; Talvez eu exponha ao leitor, em algum canto deste livro, a minha teoria das edições humanas&#39;,
 &#39; O que por agora importa saber é que Virgília — chamava-se Virgília — entrou na alcova, firme, com a gravidade que lhe davam as roupas e os anos, e veio até o meu leito&#39;,
 &#39; O estranho levantou-se e saiu&#39;,
 &#39; Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo&#39;,
 &#39; Saiu; Virgília deixou-se estar de pé; durante algum tempo ficamos a olhar um para o outro, sem articular palavra&#39;,
 &#39; Quem diria? De dois grandes namorados, de duas paixões sem freio, nada mais havia ali, vinte anos depois; havia apenas dois corações murchos, devastados pela vida e saciados dela, não sei se em igual dose, mas enfim saciados&#39;,
 &#39; Virgília tinha agora a beleza da velhice, um ar austero e maternal; estava menos magra do que quando a vi, pela última vez, numa festa de São João, na Tijuca; e porque era das que resistem muito, só agora começavam os cabelos escuros a intercalar-se com alguns fios de prata&#39;,
 &#39;&#39;]
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>Note que, todas as substrings intermediárias passaram a iniciar-se com um caracter de espaço. Como isto é pouco útil para nós, poderíamos ter utilizado o padrão <code class="docutils literal notranslate"><span class="pre">.</span> </code> (com espaço) para realizar a quebra.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># considera um espaço no padrão</span>
<span class="n">mt2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;\. &#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
<span class="n">mt2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Não durou muito a evocação; a realidade dominou logo; o presente expeliu o passado&#39;,
 &#39;Talvez eu exponha ao leitor, em algum canto deste livro, a minha teoria das edições humanas&#39;,
 &#39;O que por agora importa saber é que Virgília — chamava-se Virgília — entrou na alcova, firme, com a gravidade que lhe davam as roupas e os anos, e veio até o meu leito&#39;,
 &#39;O estranho levantou-se e saiu&#39;,
 &#39;Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo&#39;,
 &#39;Saiu; Virgília deixou-se estar de pé; durante algum tempo ficamos a olhar um para o outro, sem articular palavra&#39;,
 &#39;Quem diria? De dois grandes namorados, de duas paixões sem freio, nada mais havia ali, vinte anos depois; havia apenas dois corações murchos, devastados pela vida e saciados dela, não sei se em igual dose, mas enfim saciados&#39;,
 &#39;Virgília tinha agora a beleza da velhice, um ar austero e maternal; estava menos magra do que quando a vi, pela última vez, numa festa de São João, na Tijuca; e porque era das que resistem muito, só agora começavam os cabelos escuros a intercalar-se com alguns fios de prata.&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="id2">
<h4>Metacaracter <code class="docutils literal notranslate"><span class="pre">^</span></code><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>Também chamado <em>caret</em>, serve para buscar padrões no início de uma string.</p>
<p><strong>Exemplo:</strong> Use as substrings do exemplo anterior para buscar quais delas iniciam-se por <code class="docutils literal notranslate"><span class="pre">'T'</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mt2</span><span class="p">):</span>
    <span class="n">aux</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;^T&#39;</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">aux</span><span class="p">:</span> <span class="c1"># se lista não for vazia</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;---&gt; Padrão detectado na </span><span class="se">\</span>
<span class="s1">substring </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1">:</span><span class="se">\n\&quot;</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>---&gt; Padrão detectado na substring 1:
&quot;Talvez eu exponha ao leitor, em algum canto deste livro, a minha teoria das edições humanas&quot;
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>Poderíamos ter usado <code class="docutils literal notranslate"><span class="pre">re.search</span></code> ou <code class="docutils literal notranslate"><span class="pre">re.match</span></code> também para atingir o mesmo propósito, visto que a expressão regular <code class="docutils literal notranslate"><span class="pre">'^T'</span></code> força o início com “T”.</p></li>
</ul>
</section>
<section id="id3">
<h4>Metacaracter <code class="docutils literal notranslate"><span class="pre">$</span></code><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>Visto em sentido oposto a <code class="docutils literal notranslate"><span class="pre">^</span></code>, <code class="docutils literal notranslate"><span class="pre">$</span></code> serve para buscar padrões no final de uma string, ou logo antes de um caracter <em>newline</em>.</p>
<p><strong>Exemplo:</strong> Use as substrings do exemplo anterior para buscar quais delas terminam por <code class="docutils literal notranslate"><span class="pre">'o'</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mt2</span><span class="p">):</span>
    <span class="n">aux</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;o$&#39;</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">aux</span><span class="p">:</span> <span class="c1"># se lista não for vazia</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;---&gt; Padrão detectado na </span><span class="se">\</span>
<span class="s1">substring </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1">:</span><span class="se">\n\&quot;</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>---&gt; Padrão detectado na substring 0:
&quot;Não durou muito a evocação; a realidade dominou logo; o presente expeliu o passado&quot;
---&gt; Padrão detectado na substring 2:
&quot;O que por agora importa saber é que Virgília — chamava-se Virgília — entrou na alcova, firme, com a gravidade que lhe davam as roupas e os anos, e veio até o meu leito&quot;
---&gt; Padrão detectado na substring 4:
&quot;Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo&quot;
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>Neste exemplo, identificamos todas as substrings que terminam com o caracter ‘o’.</p></li>
<li><p>Com expressões regulares mais exatas, restringimos as possibilidades. Vejamos o exemplo a seguir.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca substring terminando com &#39;undo&#39;</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mt2</span><span class="p">):</span>
    <span class="n">aux</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;undo$&#39;</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">aux</span><span class="p">:</span> <span class="c1"># se lista não for vazia</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;---&gt; Padrão detectado na </span><span class="se">\</span>
<span class="s1">substring </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1">:</span><span class="se">\n\&quot;</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="se">\&quot;</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>---&gt; Padrão detectado na substring 4:
&quot;Era um sujeito, que me visitava todos os dias para falar do câmbio, da colonização e da necessidade de desenvolver a viação férrea; nada mais interessante para um moribundo&quot;
</pre></div>
</div>
</div>
</div>
<p>Comentário:</p>
<ul class="simple">
<li><p>Note que para buscar o caracter literal ‘$’ em uma string devemos usar o caracter de escape. Vejamos o próximo exemplo.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">real</span> <span class="o">=</span> <span class="s1">&#39;João me pagou R$ 150,00.&#39;</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;\$&#39;</span><span class="p">,</span><span class="n">real</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Caracter $ identificado na posição </span><span class="si">{</span><span class="n">v</span><span class="o">.</span><span class="n">start</span><span class="p">()</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Caracter $ identificado na posição 15.
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h4>Metacaracter <code class="docutils literal notranslate"><span class="pre">*</span></code><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>Serve para buscar 0 ou mais repetições de um caracter precedente. Este caracter especial é de <em>repetição</em>.</p>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;hav*.&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ha &#39;, &#39;ha &#39;, &#39;ham&#39;, &#39;har&#39;, &#39;havi&#39;, &#39;havi&#39;, &#39;ha &#39;]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>A RE <code class="docutils literal notranslate"><span class="pre">'hav*.'</span></code> procura por padrões que atendem às seguintes restrições:</p>
<ul>
<li><p>o caracter ‘v’ aparece 0 ou mais vezes após ‘ha’.</p></li>
<li><p>quando não houver ‘v’, o terceiro caracter passa a ser qualquer um que vier na sequência por causa do metacaracter ‘.’.</p></li>
<li><p>quando houver um ‘v’, o quarto caracter é qualquer um</p></li>
<li><p>quando houver n repetições de ‘v’ após ‘a’, todos os n são considerados, e o n+1-ésimo caracter é qualquer um.</p></li>
</ul>
</li>
</ul>
<p>Comentários:</p>
<ul class="simple">
<li><p>Descrever em palavras o que a expressão regular faz exatamente não é sempre muito fácil. Vejamos mais um exemplo.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;ha hahaa hav havv havva-havvva; haiiaa havia&#39;</span>

<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;hav*.&#39;</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ha &#39;, &#39;hah&#39;, &#39;hav &#39;, &#39;havv &#39;, &#39;havva&#39;, &#39;havvva&#39;, &#39;hai&#39;, &#39;havi&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="id5">
<h4>Metacaracter <code class="docutils literal notranslate"><span class="pre">+</span></code><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Serve para buscar 1 ou mais repetições de um caracter precedente. Assim como <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code> também é um caracter especial de <em>repetição</em>.</p>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;hav+.&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;havi&#39;, &#39;havi&#39;]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>A RE <code class="docutils literal notranslate"><span class="pre">'hav+.'</span></code> é similar à anterior. Porém, pelo fato de ser obrigatória a ocorrência de pelo menos 1 caracter ‘v’ após ‘a’, os padrões ‘ha ‘, ‘ham’ e ‘har’ são excluídos.</p></li>
<li><p>Se encontradas n ocorrências de ‘v’, o padrão será encerrado pelo n+1-ésimo caracter arbitrário</p></li>
<li><p>Como no texto existe tal padrão com apenas uma ocorrência de ‘v’, o quarto caracter, sendo arbitrário, é encontrado como ‘i’.</p></li>
<li><p>O padrão ‘havia’, que forma uma palavra compreensível em Português, é ignorado por conter 5 caracteres.</p></li>
</ul>
</section>
<section id="id6">
<h4>Metacaracter <code class="docutils literal notranslate"><span class="pre">?</span></code><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>Serve para buscar 0 ou 1 repetição de um caracter precedente. Assim como <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code> também é um caracter especial de <em>repetição</em>.</p>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;s?an.&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ant&#39;, &#39;ana&#39;, &#39;ano&#39;, &#39;anh&#39;, &#39;ant&#39;, &#39;sant&#39;, &#39;ant&#39;, &#39;and&#39;, &#39;ano&#39;, &#39;and&#39;]
</pre></div>
</div>
</div>
</div>
<p>Comentários:</p>
<ul class="simple">
<li><p>Esta RE procurará por 0 ou 1 repetição de ‘s’ seguida por ‘an’ e qualquer outro caracter.</p></li>
<li><p>Neste caso, a substring ‘ssan’, por exemplo, existente na palavra ‘interessante’ não seria coberta por <code class="docutils literal notranslate"><span class="pre">?</span></code>.</p></li>
</ul>
</section>
<section id="metacaracteres">
<h4>Metacaracteres <code class="docutils literal notranslate"><span class="pre">[]</span></code><a class="headerlink" href="#metacaracteres" title="Permalink to this headline">¶</a></h4>
<p>Os colchetes devem ser usados, juntos, em par, para indicar um conjunto de caracteres sobre os quais a expressão regular deve operar. Em geral, usa-se o par <code class="docutils literal notranslate"><span class="pre">[]</span></code> para os seguintes propósitos:</p>
<ul class="simple">
<li><p>Listar caracteres individualmente</p></li>
</ul>
<p>A RE <code class="docutils literal notranslate"><span class="pre">[vnd]</span></code> combinará os caracteres <code class="docutils literal notranslate"><span class="pre">'v'</span></code>, <code class="docutils literal notranslate"><span class="pre">'n'</span></code> ou <code class="docutils literal notranslate"><span class="pre">'d'</span></code>.</p>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># localiza todas as ocorrências </span>
<span class="c1"># de &#39;v&#39;, &#39;n&#39;, ou &#39;d&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;[vnd]&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;d&#39;, &#39;v&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;n&#39;, &#39;n&#39;, &#39;d&#39;, &#39;v&#39;, &#39;n&#39;, &#39;n&#39;, &#39;d&#39;, &#39;v&#39;, &#39;n&#39;, &#39;d&#39;, &#39;d&#39;, &#39;n&#39;, &#39;v&#39;, &#39;n&#39;, &#39;n&#39;, &#39;v&#39;, &#39;v&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;v&#39;, &#39;n&#39;, &#39;v&#39;, &#39;n&#39;, &#39;v&#39;, &#39;n&#39;, &#39;v&#39;, &#39;v&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;n&#39;, &#39;v&#39;, &#39;v&#39;, &#39;v&#39;, &#39;n&#39;, &#39;d&#39;, &#39;n&#39;, &#39;n&#39;, &#39;n&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;n&#39;, &#39;v&#39;, &#39;d&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;v&#39;, &#39;v&#39;, &#39;n&#39;, &#39;n&#39;, &#39;d&#39;, &#39;v&#39;, &#39;n&#39;, &#39;d&#39;, &#39;d&#39;, &#39;v&#39;, &#39;d&#39;, &#39;v&#39;, &#39;d&#39;, &#39;d&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;v&#39;, &#39;n&#39;, &#39;v&#39;, &#39;n&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;v&#39;, &#39;v&#39;, &#39;n&#39;, &#39;d&#39;, &#39;n&#39;, &#39;d&#39;, &#39;v&#39;, &#39;n&#39;, &#39;n&#39;, &#39;d&#39;]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Localizar um intervalo de caracteres</p></li>
</ul>
<p>Uma RE do tipo <code class="docutils literal notranslate"><span class="pre">[a-d]</span></code> combinará os caracteres de <code class="docutils literal notranslate"><span class="pre">'a'</span></code> a <code class="docutils literal notranslate"><span class="pre">'d'</span></code>, ao passo que <code class="docutils literal notranslate"><span class="pre">[a-z]</span></code> combinará todas as letras minúsculas da tabela ASCII (e não Unicode!), ou seja, de <code class="docutils literal notranslate"><span class="pre">'a'</span></code> a <code class="docutils literal notranslate"><span class="pre">'z'</span></code>.</p>
<p>Do mesmo modo, <code class="docutils literal notranslate"><span class="pre">[0-4]</span></code> combinará os dígitos de 0 a 4, e <code class="docutils literal notranslate"><span class="pre">[0-9]</span></code> todos os dígitos decimais. Por outro lado, a expressão <code class="docutils literal notranslate"><span class="pre">[0-3][3-8]</span></code> combinará todos os números de dois dígitos de 03 a 38.</p>
<p>Se o símbolo <code class="docutils literal notranslate"><span class="pre">-</span></code> for escapado (p.ex. <code class="docutils literal notranslate"><span class="pre">[a\-d]</span></code>), ou se for colocado como primeiro ou último caracter (p.ex. <code class="docutils literal notranslate"><span class="pre">[-b]</span></code> ou <code class="docutils literal notranslate"><span class="pre">[b-]</span></code>), ele significará o hífen literal (‘-’).</p>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;[a-z]um&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;gum&#39;, &#39;hum&#39;, &#39;gum&#39;, &#39;num&#39;]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>Esta RE procurará todos os padrões que iniciam por qualquer letra minúscula (de ‘a’ a ‘z’) seguidas por ‘um’.</p></li>
</ul>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;[v-z][a-].&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;va-&#39;, &#39;va,&#39;, &#39;vam&#39;, &#39;van&#39;, &#39;va &#39;, &#39;zaç&#39;, &#39;vas&#39;, &#39;za &#39;, &#39;va &#39;, &#39;vam&#39;]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>Esta RE procurará todos os padrões que iniciam por uma letra minúscula entre ‘v’ e ‘z’ seguidas por ‘a’, ‘-’, ou ‘a-’ e um caracter qualquer adicional.</p></li>
</ul>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># mesmo efeito que anterior</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;[v-z][-a].&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;va-&#39;, &#39;va,&#39;, &#39;vam&#39;, &#39;van&#39;, &#39;va &#39;, &#39;zaç&#39;, &#39;vas&#39;, &#39;za &#39;, &#39;va &#39;, &#39;vam&#39;]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Localizar caracteres especiais como literais</p></li>
</ul>
<p>Os caracteres especiais perdem seu status quando aparecem entre colchetes. Por exemplo, a RE <code class="docutils literal notranslate"><span class="pre">[(+*)]</span></code> procurará por qualquer um dos literais <code class="docutils literal notranslate"><span class="pre">(</span></code>, <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code> ou <code class="docutils literal notranslate"><span class="pre">)</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ex</span> <span class="o">=</span> <span class="s1">&#39;Quanto é (22 + 3)*1 - 6*1?&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;[0-9][)*]&#39;</span><span class="p">,</span><span class="n">ex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;3)&#39;, &#39;6*&#39;]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>Esta RE busca padrões em que um dígito de 0 a 9 precede um ‘)’ ou ‘*’ literalmente.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;[0-9][?]&#39;</span><span class="p">,</span><span class="n">ex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;1?&#39;]
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>Esta RE busca padrões em que um dígito de 0 a 9 precede um ‘?’ literal.</p></li>
</ul>
</section>
<section id="id7">
<h4>Metacaracteres <code class="docutils literal notranslate"><span class="pre">{}</span></code><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>As chaves, assim como os colchetes, devem ser usadas juntas, em par, para localizar cópias ou repetições de uma expressão regular. Em geral, ela é usada para os seguintes objetivos:</p>
<ul class="simple">
<li><p>Localizar exatamente <em>m</em> cópias de uma RE anterior</p></li>
</ul>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca pelo padrão &#39;rr&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;r</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;rr&#39;
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ex2</span> <span class="o">=</span> <span class="s1">&#39;0110011000110011001010110100110111111000&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;0</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ex2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;00&#39;, &#39;00&#39;, &#39;00&#39;, &#39;00&#39;, &#39;00&#39;, &#39;00&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;1</span><span class="si">{3}</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ex2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;111&#39;, &#39;111&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca 000000 - 111111</span>
<span class="c1"># com variações de 0,1 intermediárias</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;[0-1]</span><span class="si">{6}</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">ex2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;011001&#39;, &#39;100011&#39;, &#39;001100&#39;, &#39;101011&#39;, &#39;010011&#39;, &#39;011111&#39;]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Localizar entre <em>m</em> e <em>n</em> repetições de uma RE anterior</p></li>
</ul>
<p><strong>Exemplos:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;10{2,3}&#39;</span><span class="p">,</span><span class="n">ex2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;100&#39;, &#39;1000&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;01{2,3}&#39;</span><span class="p">,</span><span class="n">ex2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;011&#39;, &#39;0111&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;[0-1]{2,3}&#39;</span><span class="p">,</span><span class="n">ex2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;001&#39;, &#39;010&#39;, &#39;011&#39;, &#39;100&#39;, &#39;101&#39;, &#39;111&#39;}
</pre></div>
</div>
</div>
</div>
</section>
<section id="id8">
<h4>Metacaracter <code class="docutils literal notranslate"><span class="pre">|</span></code><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>Usamos o <em>pipe</em> para significar “ou” com o objetivo de localizar mais de uma RE. Por exemplo, <code class="docutils literal notranslate"><span class="pre">A|B</span></code> buscará padrões determinados pela RE <code class="docutils literal notranslate"><span class="pre">A</span></code> <strong>ou</strong> por <code class="docutils literal notranslate"><span class="pre">B</span></code>. <em>Pipes</em> adicionais constroem sintaxes conjuntivas. Ou seja, <code class="docutils literal notranslate"><span class="pre">A|B|C|D...|Z</span></code> significaria “A ou B ou C ou … D”.</p>
<p><strong>Exemplos:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca por &#39;rre&#39; ou &#39;ssa&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;r</span><span class="si">{2}</span><span class="s1">e|s</span><span class="si">{2}</span><span class="s1">a&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ssa&#39;, &#39;rre&#39;, &#39;ssa&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># busca por &#39;cha&#39;, &#39;cho&#39; ou</span>
<span class="c1"># &#39;lha&#39;, &#39;lhi&#39; ou </span>
<span class="c1"># &#39;pra&#39;, &#39;pre&#39;, &#39;pri&#39;, &#39;pro&#39;, &#39;pru&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;ch[ao]|lh[ai]|pr[aeiou]&#39;</span><span class="p">,</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;pre&#39;, &#39;cha&#39;, &#39;lha&#39;, &#39;cho&#39;, &#39;lhi&#39;, &#39;pra&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="id9">
<h4>Metacaracteres <code class="docutils literal notranslate"><span class="pre">()</span></code><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>Servem para criar <em>grupos de captura</em>. Um grupo de captura é formado por uma RE confinada entre parênteses. Grupos de captura podem ser aplicados para extrair padrões que possuam uma certa estrutura.</p>
<p><strong>Exemplo</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">table</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;alfa00-LAX&#39;</span><span class="p">,</span><span class="s1">&#39;beta22-PET&#39;</span><span class="p">,</span> <span class="s1">&#39;zeta92-XIR&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
    <span class="n">pat</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;([a-z][a-z][a-z][a-z][0-9][0-9])-([A-Z]</span><span class="si">{3}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pat</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">pat</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;alfa00&#39;, &#39;LAX&#39;)
(&#39;beta22&#39;, &#39;PET&#39;)
(&#39;zeta92&#39;, &#39;XIR&#39;)
</pre></div>
</div>
</div>
</div>
<p>Discussão:</p>
<ul class="simple">
<li><p>A RE acima é composta de dois grupos de captura que são separados pelo <code class="docutils literal notranslate"><span class="pre">-</span></code> literal.</p></li>
<li><p>O primeiro grupo de captura é <code class="docutils literal notranslate"><span class="pre">([a-z][a-z][a-z][a-z][0-9][0-9])</span></code></p></li>
<li><p>O segundo grupo de captura é <code class="docutils literal notranslate"><span class="pre">([A-Z]{3})</span></code></p></li>
<li><p>Tuplas com dois elementos são impressas com <code class="docutils literal notranslate"><span class="pre">groups()</span></code>.</p></li>
</ul>
<p>Comentários:</p>
<ul class="simple">
<li><p>Como se vê, os grupos de captura permitiram que identificássemos padrões separados em uma lista de strings que continha uma estrutura predefinida.</p></li>
<li><p>Entretanto, as REs anteriores criadas como grupos de captura poderiam ser definidas de uma forma muito mais concisa através de <em>identificadores</em>.</p></li>
</ul>
</section>
<section id="identificadores-e-tokens-gerais">
<h4>Identificadores e <em>tokens</em> gerais<a class="headerlink" href="#identificadores-e-tokens-gerais" title="Permalink to this headline">¶</a></h4>
<p>Ao trabalhar com REs, podemos utilizar identificadores e <em>tokens</em> diversos para significar padrões de maneira concisa.</p>
<p>O exemplo anterior sobre grupos de captura, por exemplo, poderia ser escrito de outra forma:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
    <span class="n">pat</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;(\w+)\W(\w+)&quot;</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pat</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">pat</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;alfa00&#39;, &#39;LAX&#39;)
(&#39;beta22&#39;, &#39;PET&#39;)
(&#39;zeta92&#39;, &#39;XIR&#39;)
</pre></div>
</div>
</div>
</div>
<p>Neste caso, <code class="docutils literal notranslate"><span class="pre">\w</span></code> e  <code class="docutils literal notranslate"><span class="pre">\W</span></code> são chamados <em>identificadores</em>.</p>
<p>A tabela a seguir resume os principais identificadores e seu significado.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Identificador</p></th>
<th class="head"><p>Significado</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\d</span></code></p></td>
<td><p>qualquer caracter que é um dígito decimal. Equivalente a <code class="docutils literal notranslate"><span class="pre">[0-9]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\D</span></code></p></td>
<td><p>qualquer caracter exceto dígido (não-dígito). Equivalente a <code class="docutils literal notranslate"><span class="pre">[^0-9]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\w</span></code></p></td>
<td><p>qualquer caracter Unicode. Se a flag <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> for utilizada, equivale ao conjunto <code class="docutils literal notranslate"><span class="pre">[a-zA-Z0-9_]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\W</span></code></p></td>
<td><p>o oposto de <code class="docutils literal notranslate"><span class="pre">\w</span></code>. Se a flag <code class="docutils literal notranslate"><span class="pre">ASCII</span></code> for utilizada, equivale ao conjunto <code class="docutils literal notranslate"><span class="pre">[^a-zA-Z0-9_]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\s</span></code></p></td>
<td><p>qualquer caracter que é um espaço.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\S</span></code></p></td>
<td><p>qualquer caracter que não seja espaço.</p></td>
</tr>
</tbody>
</table>
<p>A tabela a seguir resume <em>tokens</em> gerais e seu significado.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><em>Token</em></p></th>
<th class="head"><p>Significado</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\n</span></code></p></td>
<td><p>quebra de linha. <em>Newline</em>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\r</span></code></p></td>
<td><p><em>carriage return</em></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\t</span></code></p></td>
<td><p>TAB</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\0</span></code></p></td>
<td><p>caracter nulo</p></td>
</tr>
</tbody>
</table>
<p><strong>Exemplo:</strong> Identificando padrões de data e hora.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dt</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2021-04-06 10:32:00&#39;</span><span class="p">,</span> <span class="s1">&#39;2020-12-03 01:12:58&#39;</span><span class="p">]</span> 
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">dt</span><span class="p">:</span>
    <span class="n">pat</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;(\d+)-(\d+)-(\d+)\s(\d+):(\d+):(\d+)&#39;</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pat</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">pat</span><span class="o">.</span><span class="n">groups</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;2021&#39;, &#39;04&#39;, &#39;06&#39;, &#39;10&#39;, &#39;32&#39;, &#39;00&#39;)
(&#39;2020&#39;, &#39;12&#39;, &#39;03&#39;, &#39;01&#39;, &#39;12&#39;, &#39;58&#39;)
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Identificando cores em padrão hexadecimal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cores</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;(1,23,43)&#39;</span><span class="p">,</span><span class="s1">&#39;#3ed4f4&#39;</span><span class="p">,</span> <span class="s1">&#39;#ffcc00&#39;</span><span class="p">,</span><span class="s1">&#39;(C,M,Y,K)&#39;</span><span class="p">,</span><span class="s1">&#39;#9999ff&#39;</span><span class="p">]</span> 

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cores</span><span class="p">:</span>
    <span class="n">ok</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;#[a-fA-F0-9]</span><span class="si">{6}</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ok</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ok</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>#3ed4f4
#ffcc00
#9999ff
</pre></div>
</div>
</div>
</div>
<p><strong>Exemplo:</strong> Identificando URLs no domínio Wikipedia Português.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">urls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;http://pt.wikipedia.org/wiki/Bras&#39;</span><span class="p">,</span>
       <span class="s1">&#39;http://wikipedia.org/wiki/Bras&#39;</span><span class="p">,</span>
       <span class="s1">&#39;https://pt.wikipedia.org/wiki/Bras&#39;</span><span class="p">,</span>
       <span class="s1">&#39;http://pt.wikipedia.org/wik/Bras&#39;</span><span class="p">,</span>
       <span class="s1">&#39;https://pt.wikipedia.org/wiki/Cubas&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">:</span>
    <span class="n">ok</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;((http|https)://)?(pt.wikipedia.org/wiki/).+&#39;</span><span class="p">,</span><span class="n">u</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ok</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ok</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>http://pt.wikipedia.org/wiki/Bras
https://pt.wikipedia.org/wiki/Bras
https://pt.wikipedia.org/wiki/Cubas
</pre></div>
</div>
</div>
</div>
</section>
<section id="compilacao-e-literais">
<h4>Compilação e literais<a class="headerlink" href="#compilacao-e-literais" title="Permalink to this headline">¶</a></h4>
<p>Até agora abordamos REs de uma maneira direta, mostrando como podemos localizar padrões pela utilização de alguns métodos. Vale comentar que REs podem ser compiladas como objetos mais abstratos.</p>
<p>Para compilar expressões, podemos utilizar o método <code class="docutils literal notranslate"><span class="pre">compile</span></code>, no qual REs são manipuladas como strings.</p>
<p><strong>Exemplo:</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;[p-t]a[b-d]a?&#39;</span><span class="p">)</span>
<span class="n">rex</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">cubas</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;sad&#39;, &#39;sab&#39;, &#39;rad&#39;, &#39;tad&#39;, &#39;sac&#39;, &#39;sac&#39;]
</pre></div>
</div>
</div>
</div>
<p>Aqui, <code class="docutils literal notranslate"><span class="pre">rex</span></code> é um objeto abstrato.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">rex</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;re.Pattern&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>Se imprimirmos <code class="docutils literal notranslate"><span class="pre">rex</span></code>, veremos o seguinte:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rex</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>re.compile(r&#39;[p-t]a[b-d]a?&#39;, re.UNICODE)
</pre></div>
</div>
</div>
</div>
<p>O prefixo <code class="docutils literal notranslate"><span class="pre">r</span></code> torna a string literal e serve para tratar problemas com escape. Todavia, deixaremos esta discussão para um momento posterior. Para saber mais, leia sobre a <a class="reference external" href="https://docs.python.org/3/howto/regex.html#the-backslash-plague">Praga do Backspace</a>.</p>
</section>
<section id="recursos-de-aprendizagem">
<h4>Recursos de aprendizagem<a class="headerlink" href="#recursos-de-aprendizagem" title="Permalink to this headline">¶</a></h4>
<p>Para aprofundar seu entendimento sobre expressões regulares, recomendamos os seguintes sites:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://regex101.com">regex101.com</a></p></li>
<li><p><a class="reference external" href="https://regexr.com">regexr.com</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/howto/regex.html">Regular Expression HOWTO</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/re.html">Documentação do módulo <code class="docutils literal notranslate"><span class="pre">re</span></code></a></p></li>
</ul>
<!-- ## Exercícios

Encontrar padrões em uma permutação
___

Encontrar padrões em um filamento de DNA. Ciência forense.

https://www.sciencelearn.org.nz/resources/1980-dna-profiling

https://github.com/tvdaal/dna-patterns
___

dna_seq = 'CGTACTGACGTAGCTAGCTTGATTTCGAATCGCCCGCGTAGCTAGAGTCGATATAG'
re.findall('[GAT]{2,3}',dna_seq)
 --></section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "gcpeixoto/ICD",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./ipynb"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="04-cvs-git.html" title="previous page">Controle de versão</a>
    <a class='right-next' id="next-link" href="06-python-intermediario-2.html" title="next page">Python intermediário - II</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Gustavo Oliveira<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>