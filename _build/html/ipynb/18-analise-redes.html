
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Análise de redes complexas &#8212; Introdução à Ciência de Dados</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ciência de dados e ética" href="19-etica-dados.html" />
    <link rel="prev" title="Raspagem de dados" href="17-raspagem-dados.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introdução à Ciência de Dados</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="00-conteudo.html">
   Apresentação do curso
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 1
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01-introducao.html">
   Introdução à Ciência de Dados
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02a-pip-venv.html">
   Pacotes e ambientes virtuais com
   <em>
    pip
   </em>
   e
   <em>
    venv
   </em>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02b-conda.html">
   <em>
    Crash course
   </em>
   de
   <em>
    conda
   </em>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03-ides.html">
   Ambientes de desenvolvimento e computação interativa
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04-cvs-git.html">
   Controle de versão
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 2
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="05-python-intermediario.html">
   Python intermediário - I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06-python-intermediario-2.html">
   Python intermediário - II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07-python-intermediario-3.html">
   Python intermediário - III
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08a-computacao-vetorizada.html">
   Computação vetorizada
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08b-alc.html">
   Álgebra Linear Computacional básica
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09-plotagem-matplotlib.html">
   Plotagem e formatação de gráficos
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 3
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="10a-pandas-series.html">
   Manipulação de dados - I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10b-pandas-dataframe.html">
   Manipulação de dados - II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10c-pandas-agrupamento.html">
   Manipulação de dados - III
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 4
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="11-estatistica-descritiva.html">
   Estatística Descritiva
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12-correlacao.html">
   Correlação
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13-regressao.html">
   Análise de regressão
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13a-distribuicoes.html">
   Distribuições
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 5
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="14-aprendizado-maquina.html">
   Aprendizado de máquina - I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="14b-aprendizado-maquina-2.html">
   Aprendizado de máquina - II
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 6
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="15-otimizacao.html">
   Otimização
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Parte 7
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="16-visualizacao-dados-seaborn.html">
   Visualização de dados com
   <em>
    seaborn
   </em>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="17-raspagem-dados.html">
   Raspagem de dados
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Análise de redes complexas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="19-etica-dados.html">
   Ciência de dados e ética
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Questionários
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Q21.html">
   Questionário 21 (Q21)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q22.html">
   Questionário 22 (Q22)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q23.html">
   Questionário 23 (Q23)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q24.html">
   Questionário 24 (Q24)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q25.html">
   Questionário 25 (Q25)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q31.html">
   Questionário 31 (Q31)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q32.html">
   Questionário 32 (Q32)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q41.html">
   Questionário 41 (Q41)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q42.html">
   Questionário 42 (Q42)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q43.html">
   Questionário 43 (Q43)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q44.html">
   Questionário 44 (Q44)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q51.html">
   Questionário 51 (Q51)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q61.html">
   Questionário 61 (Q61)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q71.html">
   Questionário 71 (Q71)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q72.html">
   Questionário 72 (Q72)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Q73.html">
   Questionário 73 (Q73)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Relatório Final
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="capstone-temas.html">
   Temas sugeridos para Projeto Final
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="capstone-template.html">
   Relátorio de Projeto Final (Modelo)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Cadernos de ICD
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="cadernos-icd.html">
   Cadernos de ICD
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/ipynb/18-analise-redes.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/gcpeixoto/ICD/master?urlpath=lab/tree/ipynb/18-analise-redes.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/gcpeixoto/ICD/blob/master/ipynb/18-analise-redes.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aplicacoes">
   Aplicações
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#o-modulo-networkx">
   O módulo
   <code class="docutils literal notranslate">
    <span class="pre">
     networkx
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#criacao-de-grafos-nao-dirigidos">
     Criação de grafos não dirigidos
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#adicao-e-delecao-de-nos-e-arestas">
     Adição e deleção de nós e arestas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#criacao-de-grafos-aleatorios">
     Criação de grafos aleatórios
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#impressao-de-listas-de-nos-e-de-arestas">
     Impressão de listas de nós e de arestas
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#criacao-de-redes-a-partir-de-arquivos">
     Criação de redes a partir de arquivos
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#propriedades-relevantes">
   Propriedades relevantes
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grau">
     Grau
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#caminho">
     Caminho
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#componente">
     Componente
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#subgrafo">
     Subgrafo
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#metricas-de-centralidade">
   Métricas de centralidade
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#layouts-de-visualizacao">
   Layouts de visualização
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section id="analise-de-redes-complexas">
<h1>Análise de redes complexas<a class="headerlink" href="#analise-de-redes-complexas" title="Permalink to this headline">¶</a></h1>
<p><em>Rede</em> (<em>network</em>) é uma forma de organizar e representar dados discretos. Elas diferem da forma tabular, em que linhas e colunas são as estruturas fundamentais, e funcionam com base em dois conceitos:</p>
<ol class="simple">
<li><p><em>entidades</em>, ou <em>atores</em>, ou ainda <em>nós</em>, e</p></li>
<li><p><em>relacionamentos</em>, ou <em>links</em>, ou <em>arcos</em>, ou ainda, <em>conexões</em>.</p></li>
</ol>
<p>Casualmente, o conceito de <em>rede</em> se confunde com o conceito matemático de <em>grafo</em>, para o qual as entidades são chamadas <em>vértices</em> e os relacionamentos <em>arestas</em>. Usa-se a notação <span class="math notranslate nohighlight">\(G(V,E)\)</span> para designar um grafo genérico <span class="math notranslate nohighlight">\(G\)</span> com um conjunto <span class="math notranslate nohighlight">\(V\)</span> de vértices e um conjunto <span class="math notranslate nohighlight">\(E\)</span> de arestas. A Fig. <a class="reference internal" href="#random-graph"><span class="std std-numref">Fig. 12</span></a> esboça um grafo genérico.</p>
<figure class="align-default" id="random-graph">
<a class="reference internal image-reference" href="../_images/random-graph.png"><img alt="../_images/random-graph.png" src="../_images/random-graph.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 12 </span><span class="caption-text">Grafo genérico contendo 6 vértices e 13 arestas.</span><a class="headerlink" href="#random-graph" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="aplicacoes">
<h2>Aplicações<a class="headerlink" href="#aplicacoes" title="Permalink to this headline">¶</a></h2>
<p>Com o barateamento dos recursos de computação no final do século XX, a <em>análise de redes complexas</em> (do inglês <em>complex network analysis</em>, ou CNA) evoluiu como uma área de pesquisa independente. Desde então, tornou-se possível mapear bancos de dados enormes e extrair conhecimento a partir de um emaranhado complexo de interligações.</p>
<p>No século XXI, percebemos um interesse explosivo em CNA. Algumas aplicações modernas incluem, mas não se limitam a:</p>
<ul class="simple">
<li><p>transporte, para planejamento de malhas ferroviárias, rodovias e conexões entre cidades;</p></li>
<li><p>sociologia, para entender pessoas, seu comportamento, interação em redes sociais, orientações de pensamento e preferências;</p></li>
<li><p>energia, para sistematizar linhas de transmissão de energia elétrica;</p></li>
<li><p>biologia, para modelar redes de transmissão de doenças infecciosas;</p></li>
<li><p>ciência, para encontrar os núcleos de pesquisa mais influentes do mundo em um determinado campo do conhecimento.</p></li>
</ul>
</section>
<section id="o-modulo-networkx">
<h2>O módulo <code class="docutils literal notranslate"><span class="pre">networkx</span></code><a class="headerlink" href="#o-modulo-networkx" title="Permalink to this headline">¶</a></h2>
<p>Neste capítulo, introduziremos alguns conceitos relacionados à CNA, tais como componentes conexas, medidades de centralidade e visualização de grafos usando o módulo Python <code class="docutils literal notranslate"><span class="pre">networkx</span></code>. Este módulo tornou-se popular pela sua versatilidade. Alguns de seus pontos positivos são:</p>
<ul class="simple">
<li><p>facilidade de instalação;</p></li>
<li><p>ampla documentação no <a class="reference external" href="https://networkx.org">site oficial</a>;</p></li>
<li><p>extenso conjunto de funções e algoritmos;</p></li>
<li><p>versatilidade para lidar com redes de até 100.000 nós.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Algumas ferramentas com potencial similar ao <code class="docutils literal notranslate"><span class="pre">networkx</span></code> são <a class="reference external" href="https://igraph.org"><code class="docutils literal notranslate"><span class="pre">igraph</span></code></a> e <a class="reference external" href="https://graph-tool.skewed.de"><code class="docutils literal notranslate"><span class="pre">graph-tool</span></code></a>. Especificamente para visualização, você poderá se interessar pelo <a class="reference external" href="https://www.graphviz.org"><code class="docutils literal notranslate"><span class="pre">Graphviz</span></code></a> ou pelo <a class="reference external" href="https://gephi.org"><code class="docutils literal notranslate"><span class="pre">Gephi</span></code></a>.</p>
</div>
<p>Vamos praticar um pouco com este módulo para entender conceitos fundamentais. Em seguida, faremos uma aplicação. Supondo que você já tenha instalado o <code class="docutils literal notranslate"><span class="pre">networkx</span></code>, importe-o:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
</pre></div>
</div>
</div>
</div>
<section id="criacao-de-grafos-nao-dirigidos">
<h3>Criação de grafos não dirigidos<a class="headerlink" href="#criacao-de-grafos-nao-dirigidos" title="Permalink to this headline">¶</a></h3>
<p>Em seguida vamos criar um grafo <span class="math notranslate nohighlight">\(G\)</span> <em>não dirigido</em>. Isso significa que o sentido da aresta é irrelevante. Contudo, vale comentar que há situações em que o sentido da aresta importa. Neste caso, diz-se que o grafo é <em>dirigido</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># cria grafo não dirigido com 4 vértices</span>

<span class="c1"># inicializa</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span> 

<span class="c1"># adiciona arestas explicitamente</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> 
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Em seguida, visualizamos o grafo com <code class="docutils literal notranslate"><span class="pre">draw_networkx</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_7_0.png" src="../_images/18-analise-redes_7_0.png" />
</div>
</div>
</section>
<section id="adicao-e-delecao-de-nos-e-arestas">
<h3>Adição e deleção de nós e arestas<a class="headerlink" href="#adicao-e-delecao-de-nos-e-arestas" title="Permalink to this headline">¶</a></h3>
<p>Podemos adicionar nós indvidualmente ou por meio de uma lista, bem como usar <em>strings</em> como nome.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">([</span><span class="s1">&#39;p&#39;</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="s1">&#39;Qq&#39;</span><span class="p">])</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s1">&#39;Mn&#39;</span><span class="p">)</span> <span class="c1"># nó adicionado por engano</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_10_0.png" src="../_images/18-analise-redes_10_0.png" />
</div>
</div>
<p>Podemos fazer o mesmo com arestas sobre nós existentes ou não existentes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">)</span> <span class="c1"># aresta individual</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">99</span><span class="p">),(</span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;A&#39;</span><span class="p">)])</span> <span class="c1"># aresta por lista (origem, destino)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;Mn&#39;</span><span class="p">,</span><span class="s1">&#39;no&#39;</span><span class="p">)</span> <span class="c1"># &#39;no&#39; não existente</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_12_0.png" src="../_images/18-analise-redes_12_0.png" />
</div>
</div>
<p>Nós e arestas podem ser removidos de maneira similar.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">remove_node</span><span class="p">(</span><span class="s1">&#39;no&#39;</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">remove_nodes_from</span><span class="p">([</span><span class="s1">&#39;Qq&#39;</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">])</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_14_0.png" src="../_images/18-analise-redes_14_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">remove_edge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">remove_edges_from</span><span class="p">([(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_15_0.png" src="../_images/18-analise-redes_15_0.png" />
</div>
</div>
<p>Para remover todas os nós e arestas do grafo, mas mantê-lo criado, usamos <code class="docutils literal notranslate"><span class="pre">clear</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Verificamos que não há nós nem arestas:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()),</span> <span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(0, 0)
</pre></div>
</div>
</div>
</div>
<p>Para deletá-lo completamente, podemos fazer:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">G</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="criacao-de-grafos-aleatorios">
<h3>Criação de grafos aleatórios<a class="headerlink" href="#criacao-de-grafos-aleatorios" title="Permalink to this headline">¶</a></h3>
<p>Podemos criar um grafo aleatório de diversas formas. Com <code class="docutils literal notranslate"><span class="pre">random_geometric_graph</span></code>, o grafo de <em>n</em> nós uniformemente aleatórios fica restrito ao “cubo” unitário de dimensão <code class="docutils literal notranslate"><span class="pre">dim</span></code> e conecta quaisquer dois nós <em>u</em> e <em>v</em> cuja distância entre eles é no máximo <code class="docutils literal notranslate"><span class="pre">raio</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 30 nós com raio de conexão 0.2</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">raio</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">random_geometric_graph</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">raio</span><span class="p">,</span><span class="n">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_24_0.png" src="../_images/18-analise-redes_24_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 30 nós com raio de conexão 5</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">raio</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">random_geometric_graph</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">raio</span><span class="p">,</span><span class="n">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_25_0.png" src="../_images/18-analise-redes_25_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 12 nós com raio de conexão 1.15</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">raio</span> <span class="o">=</span> <span class="mf">1.15</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">random_geometric_graph</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">raio</span><span class="p">,</span><span class="n">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_26_0.png" src="../_images/18-analise-redes_26_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 12 nós com raio de conexão 0.4</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">raio</span> <span class="o">=</span> <span class="mf">0.4</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">random_geometric_graph</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">raio</span><span class="p">,</span><span class="n">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_27_0.png" src="../_images/18-analise-redes_27_0.png" />
</div>
</div>
</section>
<section id="impressao-de-listas-de-nos-e-de-arestas">
<h3>Impressão de listas de nós e de arestas<a class="headerlink" href="#impressao-de-listas-de-nos-e-de-arestas" title="Permalink to this headline">¶</a></h3>
<p>Podemos acessar a lista de nós ou de arestas com:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NodeView((0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EdgeView([(0, 5), (0, 11), (1, 3), (1, 2), (1, 5), (1, 4), (1, 7), (2, 4), (3, 4), (3, 7), (3, 9), (3, 5), (3, 11), (3, 8), (4, 5), (4, 11), (4, 7), (5, 7), (5, 11), (5, 8), (6, 11), (6, 8), (6, 10), (6, 9), (7, 9), (7, 11), (7, 8), (8, 9), (8, 11), (9, 11), (10, 11)])
</pre></div>
</div>
</div>
</div>
<p>Notemos que as arestas são descritas por meio de tuplas (<em>origem</em>,<em>destino</em>).</p>
<p>Se especificarmos <code class="docutils literal notranslate"><span class="pre">data=True</span></code>, atributos adicionais são impressos. Para os nós, vemos <code class="docutils literal notranslate"><span class="pre">pos</span></code> como a posição espacial.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(0, {&#39;pos&#39;: [0.14016708535353195, 0.6030612677990583]}), (1, {&#39;pos&#39;: [0.7551166126779706, 0.5753984722722648]}), (2, {&#39;pos&#39;: [0.587815560861345, 0.9262306002179045]}), (3, {&#39;pos&#39;: [0.6481883004357897, 0.23944971393177616]}), (4, {&#39;pos&#39;: [0.5407112650886972, 0.5928863158800595]}), (5, {&#39;pos&#39;: [0.36356802456758663, 0.5063407090207792]}), (6, {&#39;pos&#39;: [0.13333289318770103, 0.10093555742924487]}), (7, {&#39;pos&#39;: [0.5880577194412443, 0.4328559322005747]}), (8, {&#39;pos&#39;: [0.4877270706931097, 0.16480065213848483]}), (9, {&#39;pos&#39;: [0.4864756110584624, 0.06055043228282264]}), (10, {&#39;pos&#39;: [0.06553095561423039, 0.20127799578298156]}), (11, {&#39;pos&#39;: [0.2821978870896149, 0.3551844724031613]})]
</pre></div>
</div>
</div>
</div>
<p>No caso das arestas, nenhum atributo existe para este grafo. Contudo, em grafos mais complexos, é comum ter <em>capacidade</em> e <em>peso</em> como atributos. Ambas são relevantes em estudos de <em>fluxo</em>, em que se associa a arestas uma “capacidade” de transporte e um “peso” de relevância.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(0, 5, {}), (0, 11, {}), (1, 3, {}), (1, 2, {}), (1, 5, {}), (1, 4, {}), (1, 7, {}), (2, 4, {}), (3, 4, {}), (3, 7, {}), (3, 9, {}), (3, 5, {}), (3, 11, {}), (3, 8, {}), (4, 5, {}), (4, 11, {}), (4, 7, {}), (5, 7, {}), (5, 11, {}), (5, 8, {}), (6, 11, {}), (6, 8, {}), (6, 10, {}), (6, 9, {}), (7, 9, {}), (7, 11, {}), (7, 8, {}), (8, 9, {}), (8, 11, {}), (9, 11, {}), (10, 11, {})]
</pre></div>
</div>
</div>
</div>
</section>
<section id="criacao-de-redes-a-partir-de-arquivos">
<h3>Criação de redes a partir de arquivos<a class="headerlink" href="#criacao-de-redes-a-partir-de-arquivos" title="Permalink to this headline">¶</a></h3>
<p>Um modo conveniente de criar redes é ler diretamente um arquivo contendo informações sobre a conectividade. O <em>dataset</em> que usaremos a partir deste ponto em diante corresponde a uma rede representando a amizade entre usuários reais do Facebook. Cada usuário é representado por um vértice e um vínculo de amizade por uma aresta. Os dados são anônimos.</p>
<p>Carregamos o arquivo <em>.txt</em> com <code class="docutils literal notranslate"><span class="pre">networkx.read_edgelist</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fb</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">read_edgelist</span><span class="p">(</span><span class="s1">&#39;../database/fb_data.txt&#39;</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">fb</span><span class="o">.</span><span class="n">nodes</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">fb</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(4039, 88234)
</pre></div>
</div>
</div>
</div>
<p>Vemos que esta rede possui 4039 usuários e 88234 vínculos de amizade. Você pode plotar o grafo para visualizá-lo, porém pode demorar um pouco…</p>
</section>
</section>
<section id="propriedades-relevantes">
<h2>Propriedades relevantes<a class="headerlink" href="#propriedades-relevantes" title="Permalink to this headline">¶</a></h2>
<p>Vejamos algumas propriedades de interesse de redes e grafos.</p>
<section id="grau">
<h3>Grau<a class="headerlink" href="#grau" title="Permalink to this headline">¶</a></h3>
<p>O <em>grau</em> de um nó é o número de arestas conectadas a ele. Assim, o grau médio da rede do Facebook acima pode ser calculado por:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fb</span><span class="o">.</span><span class="n">number_of_edges</span><span class="p">()</span><span class="o">/</span><span class="n">fb</span><span class="o">.</span><span class="n">number_of_nodes</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>21.84550631344392
</pre></div>
</div>
</div>
</div>
<p>ou</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fb</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="n">fb</span><span class="o">.</span><span class="n">order</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>21.84550631344392
</pre></div>
</div>
</div>
</div>
<p>Ambos os resultados mostram que cada usuário nesta rede tem pelo menos 21 amizades.</p>
</section>
<section id="caminho">
<h3>Caminho<a class="headerlink" href="#caminho" title="Permalink to this headline">¶</a></h3>
<p><em>Caminho</em> é uma sequencia de nós conectados por arestas contiguamente. O <em>caminho mais curto</em> em uma rede é o menor número de arestas a serem visitadas partindo de um nó de origem <em>u</em> até um nó de destino <em>v</em>.</p>
<p>A seguir, plotamos um caminho formado por 20 nós.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Gpath</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">path_graph</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">Gpath</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_46_0.png" src="../_images/18-analise-redes_46_0.png" />
</div>
</div>
</section>
<section id="componente">
<h3>Componente<a class="headerlink" href="#componente" title="Permalink to this headline">¶</a></h3>
<p>Um grafo é <em>conexo</em> se para todo par de nós, existe um caminho entre eles. Uma <em>componente conexa</em>, ou simplesmente <em>componente</em> de um grafo é um subconjunto de seus nós tal que cada nó no subconjunto tem um caminho para todos os outros.</p>
<p>Podemos encontrar todas as componentes da rede do Facebook usando <code class="docutils literal notranslate"><span class="pre">connected_componentes</span></code>. Entretanto, o resultado final é um objeto <em>generator</em>. Para acessarmos as componentes, devemos usar um iterador.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cc</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">fb</span><span class="p">)</span>

<span class="c1"># varre componentes e imprime os primeiros 5 nós</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cc</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;572&#39;, &#39;3423&#39;, &#39;3794&#39;, &#39;1409&#39;, &#39;1318&#39;]
</pre></div>
</div>
</div>
</div>
<p>Uma vez que há apenas uma lista impressa, temos que a rede do Facebook, na verdade, é uma componente única. De outra forma,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># há apenas 1 componente conexa, a própria rede</span>
<span class="n">nx</span><span class="o">.</span><span class="n">number_connected_components</span><span class="p">(</span><span class="n">fb</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
</section>
<section id="subgrafo">
<h3>Subgrafo<a class="headerlink" href="#subgrafo" title="Permalink to this headline">¶</a></h3>
<p><em>Subgrafo</em> é um subconjunto dos nós de um grafo e todas as arestas que os conectam. Para selecionarmos um <em>subgrafo</em> da rede Facebook, usamos <code class="docutils literal notranslate"><span class="pre">subgraph</span></code>. Os argumentos necessários são: o grafo original e uma lista dos nós de interesse. Abaixo, geramos uma lista aleatória de <code class="docutils literal notranslate"><span class="pre">ng</span></code> nós.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">randint</span>

<span class="c1"># número de nós do subgrafo</span>
<span class="n">ng</span> <span class="o">=</span> <span class="mi">40</span>

<span class="c1"># identifica nós (nomes são strings)</span>
<span class="n">nodes_to_get</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">fb</span><span class="o">.</span><span class="n">number_of_nodes</span><span class="p">(),</span><span class="n">ng</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># extrai subgrafo</span>
<span class="n">fb_sub</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">fb</span><span class="p">,</span><span class="n">nodes_to_get</span><span class="p">)</span>

<span class="c1"># plota</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">fb_sub</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_52_0.png" src="../_images/18-analise-redes_52_0.png" />
</div>
</div>
<p>Se fizermos alguma alteração no grafo original, pode ser que o número de componentes se altere. Vejamos:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># copia grafo</span>
<span class="n">fb_less</span> <span class="o">=</span> <span class="n">fb</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># remove o nó &#39;0&#39;</span>
<span class="n">fb_less</span><span class="o">.</span><span class="n">remove_node</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>

<span class="c1"># novas componentes</span>
<span class="n">nx</span><span class="o">.</span><span class="n">number_connected_components</span><span class="p">(</span><span class="n">fb_less</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>19
</pre></div>
</div>
</div>
</div>
<p>Neste exemplo, a retirada de apenas um nó do grafo original resultou em 19 componentes, com número variável de elementos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ncs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">fb_less</span><span class="p">):</span>
    <span class="n">ncs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># número de componentes em ordem</span>
<span class="nb">sorted</span><span class="p">(</span><span class="n">ncs</span><span class="p">,</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4015, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="metricas-de-centralidade">
<h2>Métricas de centralidade<a class="headerlink" href="#metricas-de-centralidade" title="Permalink to this headline">¶</a></h2>
<p>A <em>centralidade</em> de um nó mede a sua importância relativa no grafo. Em outras palavras, nós mais “centrais” tendem a ser considerados os mais influentes, privilegiados ou comunicativos.</p>
<p>Em uma rede social, por exemplo, um usuário com alta centralidade pode ser um <em>influencer</em>, um político, uma celebridade, ou até mesmo um malfeitor. Há diversas <em>métricas de centralidade</em> disponíveis. Aqui veremos as 4 mais corriqueiras:</p>
<ul class="simple">
<li><p><em>centralidade de grau</em> (<em>degree centrality</em>): definida pelo número de arestas de um nó;</p></li>
<li><p><em>centralidade de intermediação</em>(<em>betweeness centrality</em>): definida pelo número de vezes em que o nó é visitado ao tomarmos o caminho mais curto entre um par de nós distintos deste. Esta centralidade pode ser imaginada como uma “ponte” ou “pedágio”.</p></li>
<li><p><em>centralidade de proximidade</em> (<em>closeness centrality</em>): definida pelo inverso da soma das distâncias do nó de interesse a todos os outros do grafo. Ela quão “próximo” o nó é de todos os demais. Um nó com alta centralidade é aquele que, grosso modo, “dista por igual” dos demais.</p></li>
<li><p><em>centralidade de autovetor</em> (<em>eigenvector centrality</em>): definida pelo escore relativo para um nó tomando por base suas conexões. Conexões com nós de alta centralidade aumentam seu escore, ao passo que conexões com nós de baixa centralidade reduzem seu escore. De certa forma, ela mede como um nó está conectado a nós influentes.</p></li>
</ul>
<p>Em particular, um nó com alta centralidade de proximidade e alta centralidade de intermediação é chamado de <em>hub</em>.</p>
<p>Vamos calcular as centralidades de um subgrafo da rede do Facebook. Primeiro, extraímos um subgrafo menor.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># número de nós do subgrafo</span>
<span class="n">ng</span> <span class="o">=</span> <span class="mi">400</span>

<span class="c1"># identifica nós (nomes são strings)</span>
<span class="n">nodes_to_get</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">fb</span><span class="o">.</span><span class="n">number_of_nodes</span><span class="p">(),</span><span class="n">ng</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># extrai subgrafo</span>
<span class="n">fb_sub_c</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">fb</span><span class="p">,</span><span class="n">nodes_to_get</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># centralidade de grau</span>
<span class="n">deg</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">degree_centrality</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">,</span>
                 <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">node_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">deg</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span>
                 <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">afmhot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_60_0.png" src="../_images/18-analise-redes_60_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># centralidade de intermediação</span>
<span class="n">bet</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">,</span>
                 <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">node_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">bet</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span>
                 <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">afmhot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_61_0.png" src="../_images/18-analise-redes_61_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># centralidade de proximidade</span>
<span class="n">cln</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">closeness_centrality</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">,</span>
                 <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">node_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">cln</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span>
                 <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">afmhot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_62_0.png" src="../_images/18-analise-redes_62_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># centralidade de autovetor</span>
<span class="n">eig</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">eigenvector_centrality</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">,</span>
                 <span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">node_color</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">eig</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span>
                 <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">afmhot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_63_0.png" src="../_images/18-analise-redes_63_0.png" />
</div>
</div>
</section>
<section id="layouts-de-visualizacao">
<h2>Layouts de visualização<a class="headerlink" href="#layouts-de-visualizacao" title="Permalink to this headline">¶</a></h2>
<p>Podemos melhorar a visualização das redes alterando os layouts. O exemplo a seguir dispõe o grafo em um layout melhor, chamado de <code class="docutils literal notranslate"><span class="pre">spring</span></code>. Este layout acomoda a posição dos nós iterativamente por meio de um algoritmo especial. Além disso, a centralidade de grau está normalizada no intervalo [0,1] e escalonada.</p>
<p>Com o novo plot, é possível distinguir “comunidades”, sendo os maiores nós os mais centrais.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">array</span>
<span class="n">pos_fb</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">spring_layout</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">,</span><span class="n">iterations</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span>

<span class="n">nsize</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">deg</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
<span class="n">nsize</span> <span class="o">=</span> <span class="mi">500</span><span class="o">*</span><span class="p">(</span><span class="n">nsize</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">nsize</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">nsize</span><span class="p">)</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">nsize</span><span class="p">))</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_nodes</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">pos_fb</span><span class="p">,</span> <span class="n">node_size</span> <span class="o">=</span> <span class="n">nsize</span><span class="p">)</span>
<span class="n">edges</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx_edges</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">pos_fb</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_65_0.png" src="../_images/18-analise-redes_65_0.png" />
</div>
</div>
<p>Um layout aleatório pode ser plotado da seguinte forma:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pos_fb</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">random_layout</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">fb_sub_c</span><span class="p">,</span><span class="n">pos_fb</span><span class="p">,</span><span class="n">with_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/18-analise-redes_67_0.png" src="../_images/18-analise-redes_67_0.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "gcpeixoto/ICD",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./ipynb"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="17-raspagem-dados.html" title="previous page">Raspagem de dados</a>
    <a class='right-next' id="next-link" href="19-etica-dados.html" title="next page">Ciência de dados e ética</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Gustavo Oliveira<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>